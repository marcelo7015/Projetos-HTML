window._hzlang = window._hzlang || {};
window.hzmr = window.hzmr || [];
/************* Start filterRenderer.js for locale sv-SE **************/
try {HZ.navigation.Utils=new function(){function a(a){a.stopPropagation();var b=$(a.target).closest(".sidebar"),c=$(b).find(".sidebar-header .toggle"),d=$(b).find(".sidebar-body"),e=Math.floor(d.height()/200*300);c.hasClass("more-icon")?(c.addClass("down-icon").removeClass("more-icon"),d.slideDown(e,function(){b.removeClass("state-collapsed")})):c.hasClass("down-icon")&&(c.addClass("more-icon").removeClass("down-icon"),d.slideUp(e,function(){b.addClass("state-collapsed")}))}this.expandBox=function(a){$("#"+a+" .hidden").removeClass("hidden"),$("#"+a+"More").hide()},this.handleMetroAreaChanged=function(a){var b=document.getElementById("metroAreaSelector"),c=b.options[b.selectedIndex].value,d=a;c=""!==c?"/"+c:"",d.indexOf("/_3_")>0?d=d.replace("/_3_",c):d+=c,document.location=d},this.handlePriceFilterChanged=function(a,b){var c;c=a?$(a.target):$(this).parents(".price-filter-form");var d=c.find(".fromPrice").val(),e=c.find(".toPrice").val();return""!=d&&!$.isNumeric(d)||""!=e&&!$.isNumeric(e)?void window.location.reload():""!=d&&""!=e&&(d=parseInt(d,10),e=parseInt(e,10),d>e)?void window.location.reload():(d=Math.max(0,d),""!=e&&(e=Math.max(0,e)),void(document.location=b.replace(/XXXXX/,d).replace(/YYYYY/,e)))},this.attachTickBudgetBox=function(){$(document).ready(function(){$(".filter-budget").on("click","li",function(a){var b=$(a.currentTarget);b.hasClass("selected")?b.removeClass("selected"):(b.addClass("selected"),b.siblings().removeClass("selected"))})})},this.attachMultiSelectionToList=function(){$(document).ready(function(){$(".multiselect").on("click","a",function(a){var b=$(a.currentTarget),c=b.parent(".sidebar-item");c.hasClass("selected")?c.removeClass("selected"):c.addClass("selected")})})},this.initSidebarToggle=function(){$(document).ready(function(){$(".sidebar-header").click(a),$(".sidebar-header .toggle").click(a),$(".sidebar-icon.info-icon").hover(function(){var a=$(this);a.tipBubble({content:a.attr("tooltip-data"),id:"sidebar-tooltip",width:100,offsetX:5,offsetY:16,borderColor:"#ccc",showCloseBtn:!1,position:"absolute",attachTo:"body",fadeDuration:0})},function(){var a=$(this);a.tipBubble("hide")})})},this.init=function(){this.initSidebarToggle(),this.attachMultiSelectionToList()}};

window.hzmr.push("filterRenderer:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End filterRenderer.js  **************/
/************* Start standardFooter.js for locale sv-SE **************/
try {$(document).ready(function(){var a=$("#siteSelector");a.length&&a.on("change",function(){var a=$(this).find(":selected"),b=a.attr("objid"),c=a.text(),d={scopeId:"site-redirection-footer",compId:"standard-footer",objId:b,currentSiteId:HZ.utils.Config.currentSiteId,anchorText:c};HZ.utils.Logger.sendEventLogLightweight(HZ.utils.Logger.EVENT_TYPE_USER_CLICK,d)}),$(".footer-global-site").on("click",function(a){a.preventDefault(),a.stopPropagation();var b=$(this).data("params");b&&HZ.utils.Html.postToUrl(b.actionUrl,b.params)})});

window.hzmr.push("standardFooter:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End standardFooter.js  **************/
/************* Start scrollToTop.js for locale sv-SE **************/
try {HZ.ns("HZ.StickyFooterActions"),HZ.StickyFooterActions=function(){},HZ.StickyFooterActions.prototype={init:function(a){this.el=document.getElementById("stickyFooterActions"),this.$el=$(this.el),this.attachEvents(),this.currentScrollPosition=$(window).scrollTop(),this.currentScrollPosition>350&&this.$el.removeClass("hide-actions")},attachEvents:function(){$(window).on("scroll.stickyFooterActions",$.throttle(250,this.handleScroll.bind(this)))},detachEvents:function(){$(window).off(".stickyFooterActions")},handleScroll:function(a){var b=$(window).scrollTop();b>this.currentScrollPosition&&b>350?this.$el.removeClass("hide-actions"):350>=b&&this.$el.addClass("hide-actions"),this.currentScrollPosition=b}},HZ.ns("HZ.modules.ScrollToTop"),HZ.modules.ScrollToTop=function(){var a,b,c=function(a){$("body,html").animate({scrollTop:0},500,"swing")},d=function(){var a=!0;if(b||0!==b.length){var c=document.body.clientHeight,d=document.body.scrollHeight;return d&&1.5>d/c?(b.hide(),a=!1):b.show(),a}};return $(document).ready(function(){if(b=$("#ScrollToTopContainer"),b.on("click",c),!b.hasClass("show-action")){var e=d();e||(a=window.setTimeout(d,2500))}}),this}(),HZ.ns("HZ.CustomizeFooterButton"),HZ.CustomizeFooterButton=function(){$(document).ready(function(){var a=$("#customize-cog"),b=a.find(".customize__tooltip");b.length&&a.one("click","#customizeFeedButton, .customize__tooltip-dismiss",function(a){b.addClass("viewed"),HZ.ajaz.CustomizeFooterButton.setViewed()})})}();

window.hzmr.push("scrollToTop:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End scrollToTop.js  **************/
/************* Start extracting text for newPostSignup.js for locale sv-SE **************/
(function(){var _hzxt={"I offer home improvement services or sell home products.":"Jag erbjuder tj\u00e4nster f\u00f6r renovering och bygg, eller s\u00e4ljer produkter f\u00f6r hem.","Professional":"F\u00f6retag","I am a homeowner or interested in home design.":"Jag \u00e4r en bostads\u00e4gare eller intresserad av inredning.","Homeowner":"Bostads\u00e4gare","Which describes you best?":"Vilket beskriver dig b\u00e4st?"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for newPostSignup.js  **************/
/************* Start newPostSignup.js for locale sv-SE **************/
try {HZ.ns("HZ.signup"),HZ.signup.newPostSignup=new function(){this.init=function(a,b){var c=$("<div/>",{id:"signup-success","class":"dialog",scopeId:"signup-success"}),d="<div id='header'><h1 class='header-2'>"+_hgt("Which describes you best?")+"</h1></div><div id='body'><div class='row'><div id='homeowner' class='col-sm-6' compId='homeowner'><div class='wrapper'><div class='icon'></div><div class='title header-5'>"+_hgt("Homeowner")+"</div><div class='description'>"+_hgt("I am a homeowner or interested in home design.")+"</div></div></div><div id='pro' class='col-sm-6' compId='pro'><div class='wrapper'><div class='icon'></div><div class='title header-5'>"+_hgt("Professional")+"</div><div class='description'>"+_hgt("I offer home improvement services or sell home products.")+"</div></div></div></div></div>";return c.html(d),c.find("#homeowner").on("click",function(){a()}),c.find("#pro").on("click",function(){b()}),c}};

window.hzmr.push("newPostSignup:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End newPostSignup.js  **************/
/************* Start extracting text for hoverCard.js for locale sv-SE **************/
(function(){var _hzxt={"Follower":"F\u00f6ljare","Followers":"F\u00f6ljare","Review":"Omd\u00f6me","Follow":"F\u00f6lj","Following":"F\u00f6ljer","Reviews":"Omd\u00f6men","Projects":"Projekt","Comments":"Kommentarer","Ideabook":"Id\u00e9bok","Project":"Projekt","Comment":"Kommentera","Ideabooks":"Id\u00e9b\u00f6cker"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for hoverCard.js  **************/
/************* Start hoverCard.js for locale sv-SE **************/
try {HZ.ns("HZ.utils"),HZ.utils.HoverCard=new function(){function a(a){var b=HZ.utils.Html.escapeHtmlEntities(a);return b.replace(/'/g,"&apos;")}var b,c,d={},e={useWiderFollowCell:0,cardContentWidth:414,statCardWidth:86,reviewCardWidth:86,ajazTimeout:300,dropDownTimeout:500},f="<div class='hzHoverCard hbs'>\n		<div class='hzHoverCardContent'>\n			<div class='upper'>\n				<a target='_blank' href='%PROFILELINK%' %REL% id='%ID%' class='user-thumb-link' onmousedown='%MOUSEDOWN%'><img class='hzHoverCardUserThumb hz-user-image' src='%USERTHUMB%'/></a>\n				<div class='basic-info'>\n					<div class='hzHoverCardUserName'>\n						<a target='_blank' class='nameLink hz-username' href='%PROFILELINK%' %REL% id='%ID%' onmousedown='%MOUSEDOWN%'>%USERNAME%</a>\n					</div>\n					%REVIEW_STARS%\n					%PRODESC%\n				</div>\n			</div>\n			%FOLLOW%\n			%FOLLOWERS%\n			%PROCARD%\n			%IDEABOOK%\n			%PROJECT%\n			%COMMENT%\n			<div class='hzHCClearFix'></div>\n		</div>\n		</div>",g="<div class='hzHoverCard hbs'>\n		<div class='hzHoverCardContent'>\n			<div class='upper'>\n				<a target='_blank' href='%PROFILELINK%' %REL% id='%ID%' class='user-thumb-link' onmousedown='%MOUSEDOWN%'><img class='hzHoverCardUserThumb hz-user-image' src='%USERTHUMB%'/></a>\n				<div class='basic-info'>\n					<div class='hzHoverCardUserName'>\n						<a target='_blank' class='nameLink hz-username' href='%PROFILELINK%' %REL% id='%ID%' onmousedown='%MOUSEDOWN%'>%USERNAME%</a>\n					</div>\n				</div>			</div>\n			%FOLLOW%\n			%FOLLOWERS%\n			%IDEABOOK%\n			%PROJECT%\n			%COMMENT%\n			%NO_PUBLIC_GALLERY%\n			<div class='hzHCClearFix'></div>\n		</div>\n		</div>",h=function(a,b,c){var e,f={},g=$(this);c&&"true"==c.success&&(e=c.userDetail,f[a]={},f[a][b]=e,d=$.extend(!0,d,f),k(e,g,a,b))},i=function(d,e,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C="",D="profLink",E="",F="u",G="",H="",I="",J="",K="",L="",M="",N="",O="",P="",Q="",R=!0,S=!0,T="",U="",V="",W="";if(j=d.isPro,k=d.uname,l=d.name,m=d.pic,n=d.link,o=d.loc,p=d.allowFollow,q=d.isFollower,r=d.galCount,s=d.projCount,t=d.cmtCount,v=d.reviewRating,w=d.numReview,x=d.reviewLink,B=d.proType,y=d.galLink,z=d.prjLink,R=d.publicGallery,S=d.publicProject,c=b.cardContentWidth,i.pTrk&&i.pTrkParam&&(n="#",C="rel='nofollow'",E=i.pTrk,D=i.pTrkParam),i.gTrk&&i.gTrkParam&&(y="#",T="onmousedown='"+i.gTrk+"' id='"+i.gTrkParam+"'"),i.prjTrk&&i.prjTrkParam&&(z="#",U="onmousedown='"+i.prjTrk+"' id='"+i.prjTrkParam+"'"),1==p){if(b.useWiderFollowCell&&(c+=30,W="wider-card"),1==q)var X="hzBtn followBtn following",Y=_hgt("Following");else if(0==q)var X="hzBtn followBtn",Y=_hgt("Follow");if(HZ.data.CurrentSessionUser)var Z="HZ.actions.Follow.updateFollow(this,{"+F+': "'+k+'"}); HZ.utils.HoverCard.toggleFollowStatus("'+e+'", "'+h+'"); return false;';else if(HZ.auth)var Z="HZ.auth.Manager.signup(10, null, window.location.href); return false;";else var Z='window.location.href="'+b.followRedirectLink+'"; return false;';H="<input id='followButton_"+k+"' type='button' class='"+X+"' value='"+a(Y)+"' onclick='"+Z+"'/>",I="<div class='hzFollowBtnWrapper'>"+H+"</div>",u=d.followersCount,A=d.followersLink,u>0&&(J="<div class='statCard'><a target='_blank' href='"+A+"'><div class='counter'>"+u+"</div><div class='itemName'>"+_hgtp("Followers","Follower","Followers",u)+"</div></a></div>")}""==J&&(c-=b.statCardWidth),I="<div class='statCard followStatCard "+W+"'>"+I+"</div>",N="<div class='statCard'></div>",R&&(K="<div class='statCard'><a target='_blank' href='"+y+"' "+T+"><div class='counter'>"+r+"</div><div class='itemName'>"+_hgtp("Ideabooks","Ideabook","Ideabooks",r)+"</div></a></div>"),s>0&&S?L="<div class='statCard'><a target='_blank' href='"+z+"' "+U+"><div class='counter'>"+s+"</div><div class='itemName'>"+_hgtp("Projects","Project","Projects",s)+"</div></a></div>":c-=b.statCardWidth,M="<div class='statCard'><div class='counter'>"+t+"</div><div class='itemName'>"+_hgtp("Comments","Comment","Comments",t)+"</div></div>",1==j?(B&&"Not specified"!=B&&(G=B),o&&(G.length>0&&(G+=" | "),G+=o),G&&(G="<div class='hzHoverCardLoc'>"+a(G)+"</div>"),P="<div class='counter'>"+w+"</div><div class='itemName'>"+_hgtp("Reviews","Review","Reviews",w)+"</div>",i.rTrk&&i.rTrkParam&&(x="#",V="onmousedown='"+i.rTrk+"' id='"+i.rTrkParam+"'"),P="<div class='statCard reviewCard'><a target='_blank' href='"+x+"' "+V+">"+P+"</a></div>",w>0&&(O="<div class='classification counter'><div class='cover'></div><div class='progress' style='width: "+2*v+"%'></div></div>"),Q=HZ.utils.Html.template(f,{USERNAME:l,PROFILELINK:n,REL:C,MOUSEDOWN:E,ID:D,USERTHUMB:m,PRODESC:G,REVIEW_STARS:O,FOLLOW:I,FOLLOWERS:J,PROJECT:L,COMMENT:M,PROCARD:P})):(o&&(G+=o),G&&(G="<div class='hzHoverCardLoc'>"+G+"</div>"),Q=HZ.utils.Html.template(g,{USERNAME:l,PROFILELINK:n,USERTHUMB:m,USERDESC:G,FOLLOW:I,FOLLOWERS:J,IDEABOOK:K,PROJECT:L,COMMENT:M,NO_PUBLIC_GALLERY:"%NO_PUBLIC_GALLERY%"}),Q=HZ.utils.Html.template(Q,{NO_PUBLIC_GALLERY:R?"":N}));var _=$(Q);return _.find(".statCard").last().addClass("lastCard"),_},j=function(a){return{pTrk:a.attr("ptrk"),pTrkParam:a.attr("ptrk-param"),gTrk:a.attr("gtrk"),gTrkParam:a.attr("gtrk-param"),prjTrk:a.attr("prjtrk"),prjTrkParam:a.attr("prjtrk-param"),rTrk:a.attr("rtrk"),rTrkParam:a.attr("rtrk-param")}},k=function(a,b,d,e){var f,g,h,k,l,m,n=i(a,d,e,j(b)),o=110,p=$(".houzz-header"),q=$(".houzz-header-secondary"),r=80;(p.length||q.length)&&(r=p.height()+q.height()),k=b.offset().top-$(document).scrollTop(),h=$(window).height()-k-b.height(),l=b.offset().left-$(document).scrollLeft(),m=$(window).width()-l-b.outerWidth(),f=k>o+r||k>=h?"south":"north",f+=l>m?" right":"",g=$(n),g.css("width",c),g.data("srcElement",b),b.closest("body").length>0&&b.tipBubble({content:g,borderColor:"#CCC",point:f,attachTo:"body",id:"hzHoverCardContainer",showCloseBtn:!1,width:c,fadeDuration:1})},l=function(){$("#hzHoverCardContainer:visible").hide()},m=function(a){var c,e=this,f=$(e);if("mouseenter"==a.type){var g=$("#hzHoverCardContainer").data("dropDownTimer");clearTimeout(g),$("#hzHoverCardContainer").removeData("dropDownTimer"),c=setTimeout(function(){var a=f.attr("data-type"),b=f.attr("data-id");a&&b&&(d&&d[a]&&d[a][b]?k(d[a][b],f,a,b):HZ.ajaz.Services.getHoverCardData(a,b,$.proxy(h,f,a,b))),$("#hzHoverCardContainer").removeData("ajazTimer")},b.ajazTimeout),$("#hzHoverCardContainer").data("ajazTimer",c)}else"mouseleave"==a.type&&(clearTimeout($("#hzHoverCardContainer").data("ajazTimer")),$("#hzHoverCardContainer").data("dropDownTimer",setTimeout(function(){$("#hzHoverCardContainer").removeData("dropDownTimer"),l()},b.dropDownTimeout)))},n=function(a){if(a.stopPropagation(),HZ.data.CurrentSessionUser||!$(a.target).is("a")&&0==$(a.target).parents("a").length){a.preventDefault();var b=this,c=$(b);$("#hzHoverCardContainer").is(":visible")&&l();var e=c.attr("data-type"),f=c.attr("data-id");e&&f&&(d&&d[e]&&d[e][f]?k(d[e][f],c,e,f):HZ.ajaz.Services.getHoverCardData(e,f,$.proxy(h,c,e,f)))}};this.toggleFollowStatus=function(a,b){d&&d[a]&&d[a][b]&&(d[a][b].isFollower=1-d[a][b].isFollower)},this.init=function(a){b=$.extend({},e,a||{}),HZ.data.CurrentSessionUser?($("body").on("mouseenter mouseleave",".hzHouzzer",m),$("body").on("mouseenter","#hzHoverCardContainer",function(){clearTimeout($("#hzHoverCardContainer").data("dropDownTimer"))}).on("mouseleave","#hzHoverCardContainer",function(){$(this).data("dropDownTimer",setTimeout(function(){l()},b.dropDownTimeout))})):($("body").on("click",".hzHouzzer",n),$("body").on("click",".hzHoverCard",function(a){a.stopPropagation()}),$("body").on("click",l)),$("#lbImage, #lbInfoScroller").on("mousewheel DOMMouseScroll",function(){clearTimeout($("#hzHoverCardContainer").data("ajazTimer")),clearTimeout($("#hzHoverCardContainer").data("dropDownTimer")),l()})}};

window.hzmr.push("hoverCard:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End hoverCard.js  **************/
/************* Start extracting text for followButton.js for locale sv-SE **************/
(function(){var _hzxt={"Unfollow":"F\u00f6lj inte","To follow other people, you need to allow others to follow you. You can update your privacy settings on Edit Profile page.":"Innan du kan b\u00f6rja f\u00f6lja personer m\u00e5ste du till\u00e5ta att andra personer kan f\u00f6lja dig. Du kan uppdatera dina sekretessinst\u00e4llningar p\u00e5 sidan Redigera profil.","The user you are trying to follow has disabled this feature.":"Den anv\u00e4ndare som du f\u00f6rs\u00f6ker f\u00f6lja har inaktiverat den funktionen.","Follow operation failed.":"Det gick inte att f\u00f6lja.","Follow":"F\u00f6lj","Following":"F\u00f6ljer"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for followButton.js  **************/
/************* Start followButton.js for locale sv-SE **************/
try {HZ.ns("HZ.actions.Follow"),HZ.actions.Follow=new function(){var a="f",b="u",c=this,d=2,e=10,f=1,g=4,h=function(a,b){var c=a.find("i");if(b=$.trim(b),b==_hgt("Follow"))a.removeClass("following unfollow"),c.removeClass("hzi-Following hzi-Unfollow").addClass("hzi-Follow");else if(b==_hgt("Unfollow"))a.removeClass("following").addClass("unfollow"),c.removeClass("hzi-Follow hzi-Following").addClass("hzi-Unfollow");else{if(b!=_hgt("Following"))return;a.removeClass("unfollow").addClass("following"),c.removeClass("hzi-Follow hzi-Unfollow").addClass("hzi-Following")}a.is("input")?a.attr("value",b):(a.contents().last().replaceWith(b),a.attr("title",b))},i=function(b,c,i){if("true"==b.success)c==a?h(i,_hgt("Following")):h(i,_hgt("Follow"));else if(b.error==d)HZ.auth.Manager.signup(e);else{var j=_hgt("Follow operation failed.");b.error==f&&(j=_hgt("The user you are trying to follow has disabled this feature.")),b.error==g&&(j=_hgt("To follow other people, you need to allow others to follow you. You can update your privacy settings on Edit Profile page.")),alert(j)}};this.updateFollow=function(c,d){var c=$(c);if(d){var e=c.hasClass("following")||c.hasClass("unfollow")?b:a;if(d.u)var f=d.u}e&&f&&HZ.ajaz.Services.updateFollow(e,f,function(a){i(a,e,c)})},this.updateFollowBtn=function(a,b){(a.hasClass("following")||a.hasClass("unfollow"))&&(b?h(a,_hgt("Unfollow")):h(a,_hgt("Following")))},$("body").on("mouseenter",".followBtn",function(){c.updateFollowBtn($(this),!0)}).on("mouseleave",".followBtn",function(){c.updateFollowBtn($(this),!1)})};

window.hzmr.push("followButton:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End followButton.js  **************/
/************* Start fontSmoothing.js for locale sv-SE **************/
try {var TypeHelpers=new function(){var a=this;a.hasSmoothing=function(){if("undefined"!=typeof screen.fontSmoothingEnabled)return screen.fontSmoothingEnabled;try{var a=document.createElement("canvas");a.width="35",a.height="35",a.style.display="none",document.body.appendChild(a);var b=a.getContext("2d");b.textBaseline="top",b.font="32px Arial",b.fillStyle="black",b.strokeStyle="black",b.fillText("O",0,0);for(var c=8;32>=c;c++)for(var d=1;32>=d;d++){var e=b.getImageData(d,c,1,1).data,f=e[3];if(255!=f&&0!=f)return!0}return!1}catch(g){return null}},a.insertClasses=function(){var b=a.hasSmoothing(),c=document.getElementsByTagName("html")[0];1==b?c.className+=" hasFontSmoothing-true":0==b?c.className+=" hasFontSmoothing-false":c.className+=" hasFontSmoothing-unknown"}};

window.hzmr.push("fontSmoothing:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End fontSmoothing.js  **************/
/************* Start extracting text for like.js for locale sv-SE **************/
(function(){var _hzxt={"{numOfLikes} Likes":"{numOfLikes} gillar","1 Like":"1 gillar","Stop liking this item":"Sluta gilla det h\u00e4r objektet","Stop liking this review":"Sluta gilla det h\u00e4r omd\u00f6met","Stop liking this comment":"Sluta gilla den h\u00e4r kommentaren","Like this item":"Gilla det h\u00e4r objektet","Like this review":"Gilla det h\u00e4r omd\u00f6met","Like this comment":"Gilla den h\u00e4r kommentaren","Internal Error":"Internt fel","Cannot get the list of people who like this.<br\/>{error}<br\/>Please try it later.":"Det gick inte att h\u00e4mta listan med personer som gillar det h\u00e4r.<br \/>{error}<br \/>F\u00f6rs\u00f6k igen senare.","{countOfLikes} people like this.":"{countOfLikes} personer gillar det h\u00e4r.","You and {countOfOtherLikes} people like this.":"Du och {countOfOtherLikes} personer gillar det h\u00e4r.","Unlike":"Sluta gilla","People who like this":"Personer som gillar det h\u00e4r","":"","Like this discussion":"Gilla den h\u00e4r diskussionen","Stop liking this discussion":"Sluta gilla den h\u00e4r diskussionen","Like this ideabook":"Gilla den h\u00e4r id\u00e9boken","Stop liking this ideabook":"Sluta gilla den h\u00e4r id\u00e9boken","Like":"Gilla","Liked":"Gillade","1 person likes this.":"1 person gillar det h\u00e4r.","You and 1 person like this.":"Du och 1 person gillar det h\u00e4r.","You like this.":"Du gillar det h\u00e4r."};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for like.js  **************/
/************* Start like.js for locale sv-SE **************/
try {HZ.ns("HZ.like"),HZ.like.LikeDialog=function(){HZ.like.LikeDialog.superclass.constructor.call(this);var a,b=this;this.prepare=function(){var d=$('<div id="hzlikeListContainer"><ul></ul></div>');a=d.find("ul");var e={title:_hgt("People who like this"),body:d,onViewLoaded:c};b.init(e)},this.appendToLikeList=function(b){a.append(b)};var c=function(){a.empty()}},HZ.extend(HZ.like.LikeDialog,HZ.ui.yamdi.Dialog),HZ.like.Like=new function(){function a(a,d){var e=$(d),f=e.attr("data-object-type"),g=e.attr("data-object-id"),h=e.attr("data-action-only");f&&g||(f=e.parents(".hzBtn").attr("loty"),g=e.parents(".hzBtn").attr("loid"));parseInt(e.attr("data-self"),10);a==c.showlikeAction&&HZ.ui.Yamdi.show(b),HZ.ajaz.Like.like(a,g,f,function(d){var i=e.parents(".likeContainer");if(d&&"true"==d.success){var j=d.numberOfLikes,k=i.find(".hz-showlike"),l="",m=d.userList;if(a==c.likeAction)e.addClass("unlike").removeClass("like").attr("title",_hgt("Unlike")).find(".hz-likeAction").remove(),e.find(".hz-like").addClass("hz-liked hzi-Liked").removeClass("hz-like hzi-Like"),"0"===h&&(l=_hgtp("You like this.","You and 1 person like this.","You and {countOfOtherLikes} people like this.",j-1,{countOfOtherLikes:j-1}),0==k.length&&(k=$('<a class="hz-showlike" data-object-type="'+f+'" data-object-id="'+g+'" title="'+l+'" href="#"></a>'),i.append(k)),k.html(_hgtp("","1 Like","{numOfLikes} Likes",j,{numOfLikes:j})));else if(a==c.unlikeAction)e.addClass("like").removeClass("unlike").attr("title",_hgt("Like")),e.find(".hz-liked").addClass("hz-like hzi-Like").removeClass("hz-liked hzi-Liked"),0==j||"1"===h?(k.remove(),e.append('<span class="hz-likeAction">'+_hgt("Like")+"</span>")):j>0&&(l=_hgtp("","1 person likes this.","{countOfLikes} people like this.",j,{countOfLikes:j}),k.attr("title",l),k.html(_hgtp("","1 Like","{numOfLikes} Likes",j,{numOfLikes:j})));else if(a==c.showlikeAction)for(var n,o,p,q,r,s=m.length,t=0;s>t;t++){var u=$("<li></li>"),v=m[t];n=v.link,o=v.userName,p=v.userImage,q=$("<a class='likeUserImg hz-user-image' href='"+n+"'><img width='40' height='40' src='"+p+"'/></a>"),r=$("<div class='likeUserTextInfo'><a class='colorLink' href='"+n+"'>"+o+"</a></div><div style='clear:both'></div>"),u.append(q).append(r),t==s-1&&u.addClass("last-like"),b.appendToLikeList(u),HZ.ui.Yamdi.center()}}else if(a==c.showlikeAction){HZ.ui.Yamdi.hide(b);var w=_hgt("Cannot get the list of people who like this.<br/>{error}<br/>Please try it later.",{error:d.error});HZ.ui.yamdi.Common.alert(_hgt("Internal Error"),w)}})}var b,c,d,e=this;d={typeQuestion:5,typeIbk:1,typeAnswer:6,typeComment:9,typeReview:20,isCobrand:!1,likeAction:"like",unlikeAction:"unlike",showlikeAction:"showlikes",likeButtonLabel:_hgt("Like"),likeButtonIngLabel:_hgt("Liked"),likeIconClass:"hzi-Like-Button",unlikeIconClass:"hzi-CloseX",likeIconIngClass:"hzi-Like-Button button-icon-liked"};var f=function(a){switch(parseInt(a,10)){case c.typeQuestion:return _hgt("Like this discussion");case c.typeIbk:return _hgt("Like this ideabook");case c.typeAnswer:case c.typeComment:return _hgt("Like this comment");case c.typeReview:return _hgt("Like this review");default:return _hgt("Like this item")}},g=function(a){switch(parseInt(a,10)){case c.typeQuestion:return _hgt("Stop liking this discussion");case c.typeIbk:return _hgt("Stop liking this ideabook");case c.typeAnswer:case c.typeComment:return _hgt("Stop liking this comment");case c.typeReview:return _hgt("Stop liking this review");default:return _hgt("Stop liking this item")}};this.init=function(f){f&&(c=$.extend({},d,f)),HZ.data.CurrentSessionUser?($(document).on("click","a.like",function(b){var d=this;a(c.likeAction,d),b.preventDefault()}),$(document).on("click","a.unlike",function(b){var d=this;a(c.unlikeAction,d),b.preventDefault()})):$(document).on("click","a.like,a.unlike",function(a){HZ.auth?HZ.auth.Manager.signup(HZ.ajaz.Like.SOURCE_LINK_LIKE,null,window.location.href):window.location.href=c.likeRedirectLink,a.preventDefault()}),b=new HZ.like.LikeDialog,b.prepare();var g=$(".button-like");$(document).on("click","a.hz-showlike",function(b){var d=this;b.preventDefault(),!HZ.data.CurrentSessionUser&&c.isCobrand?HZ.auth?HZ.auth.Manager.signup(HZ.ajaz.Like.SOURCE_LINK_LIKE,null,window.location.href):window.location.href=c.likeRedirectLink:a(c.showlikeAction,d)}),g.length&&($(document).on("click",".button-like .counter-bubble",function(b){b.stopImmediatePropagation(),b.preventDefault();var d=this;!HZ.data.CurrentSessionUser&&c.isCobrand?HZ.auth?HZ.auth.Manager.signup(HZ.ajaz.Like.SOURCE_LINK_LIKE,null,window.location.href):window.location.href=c.likeRedirectLink:a(c.showlikeAction,d)}),$(document).on("click",".button-like",function(a){HZ.data.CurrentSessionUser?e.updateLikes(".button-like"):(HZ.auth?HZ.auth.Manager.signup(HZ.ajaz.Like.SOURCE_LINK_LIKE,null,window.location.href):window.location.href=c.likeRedirectLink,a.preventDefault())}),$(document).on("mouseover",".button-like",function(){"unlike"==$(this).attr("lop")&&HZ.like.Like.updateLikeBtn($(this),!0)}).on("mouseout",".button-like",function(){"unlike"==$(this).attr("lop")&&e.updateLikeBtn($(this),!1)}),$(document).on("mouseover",".button-like .counter-bubble",function(a){var b=$(this).parents(".button-like");"unlike"==b.attr("lop")&&(e.updateLikeBtn(b,!1),a.stopImmediatePropagation())}).on("mouseout",".button-like .counter-bubble",function(){var a=$(this).parents(".button-like");"unlike"==a.attr("lop")&&e.updateLikeBtn(a,!0)}))},this.updateLikes=function(a){var b=$(a),d=b.attr("lop"),e=b.attr("loty"),h=b.attr("loid");HZ.ajaz.Like.like(d,h,e,function(a){if(a&&"true"==a.success){var h=b.find(".button-icon"),i=b.find(".button-label"),j=b.find(".counter-bubble");if(d==c.likeAction){if(i.text(c.likeButtonIngLabel),b.attr("title",g(e)),b.attr("lop",c.unlikeAction),j.length>0){j.text(a.formattedLikeCount?a.formattedLikeCount:parseInt(j[0].innerHTML,10)+1);var k=_hgtp("","You and 1 person like this.","You and {countOfOtherLikes} people like this.",a.numberOfLikes-1,{countOfOtherLikes:a.numberOfLikes-1});j.attr("title",k)}else j=$('<span title="'+_hgt("You like this.")+'" class="counter-bubble">1</span>'),b.append(j);h.removeClass(c.likeIconClass).addClass(c.likeIconIngClass)}else if(d==c.unlikeAction){if(i.text(c.likeButtonLabel),b.attr("title",f(e)),b.attr("lop",c.likeAction),j.length>0){var l=a.formattedLikeCount?a.formattedLikeCount:parseInt(j[0].innerHTML,10)-1;if(1>l)j.remove();else{j.text(l);var k=_hgtp("","1 person likes this.","{countOfLikes} people like this.",a.numberOfLikes,{countOfLikes:a.numberOfLikes});j.attr("title",k)}}h.removeClass(c.likeIconIngClass).removeClass(c.unlikeIconClass).addClass(c.likeIconClass)}}})},this.updateLikeBtn=function(a,b){var d=$(a),e=d.find(".button-icon");b?e.removeClass(c.likeIconIngClass).addClass(c.unlikeIconClass):e.removeClass(c.unlikeIconClass).addClass(c.likeIconIngClass)}};

window.hzmr.push("like:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End like.js  **************/
/************* Start jquery-ui-1.10.3.custom.widget-only.js for locale sv-SE **************/
try {!function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery);

window.hzmr.push("jquery-ui-1.10.3.custom.widget-only:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End jquery-ui-1.10.3.custom.widget-only.js  **************/
/************* Start extracting text for flagContent.js for locale sv-SE **************/
(function(){var _hzxt={"Why are you reporting this post?":"Varf\u00f6r rapporterar du det h\u00e4r inl\u00e4gget?","Please select one of the options.":"V\u00e4lj ett av alternativen","I just don't like it":"Jag tycker bara inte om den","Inappropriate or abusive":"Ol\u00e4mplig eller st\u00f6tande","Spam":"Skr\u00e4ppost","Why are you reporting this comment?":"Varf\u00f6r rapporterar du den h\u00e4r kommentaren?","Report Comment":"Rapportera kommentaren","Report Post":"Rapportera inl\u00e4gg","Cancel":"Avbryt","Submit":"Skicka"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for flagContent.js  **************/
/************* Start flagContent.js for locale sv-SE **************/
try {HZ.ns("HZ.flag"),HZ.flag.flagDialogInstance=null,HZ.flag.FlagDialog=function(){HZ.flag.FlagDialog.superclass.constructor.call(this);var a=this;this.prepare=function(){var c,d,e,f,g,h,i;c=_hgt("Report Comment"),d=_hgt("Why are you reporting this comment?"),h=$('<div id="report-dialog"><form action="javascript:;"><div class="why-report text-bold mbm">'+d+'</div>\n			<ul id="report-type-list" class="list-unstyled">\n				<li class="report-type-item radio"><label><input type="radio" name="report-type" class="report-type" value="spam" id="report-spam"/>'+_hgt("Spam")+'</label></li>\n				<li class="report-type-item radio"><label><input type="radio" name="report-type" class="report-type" value="abuse" id="report-abuse"/>'+_hgt("Inappropriate or abusive")+'</label></li>\n				<li class="report-type-item radio"><label><input type="radio" name="report-type" class="report-type" value="dislike" id="report-dislike"/>'+_hgt("I just don't like it")+"</label></li>\n			</ul>\n			</form></div>"),e=HZ.ui.InputButtonUtils.createSecondaryInputButton(_hgt("Cancel"),"flagCancelBtn"),f=HZ.ui.InputButtonUtils.createPrimaryInputButton(_hgt("Submit"),"flagConfirmBtn"),g=[HZ.ui.AjaxThrobber.getThrobber(),e,f],i={title:c,body:h,controls:g,onViewLoaded:b},a.init(i),a.hideStatus()};var b=function(){HZ.ui.AjaxThrobber.setInCall(!1),$(".report-type").prop("checked",!1),a.hideStatus()};this.bindButtonHandler=function(b){var c=$("#flagConfirmBtn"),d=$("#flagCancelBtn");c.unbind("click").bind("click",function(c){if(a.hideStatus(),b){HZ.ui.AjaxThrobber.setInCall(!0);var d=$(".report-type:checked").val();"undefined"==typeof d?(a.showStatus(_hgt("Please select one of the options.")),HZ.ui.AjaxThrobber.setInCall(!1)):b(c,d)}else HZ.ui.yamdi.Common.hideAllDialogs()}),d.unbind("click").one("click",function(a){HZ.ui.yamdi.Common.hideAllDialogs()})}},HZ.extend(HZ.flag.FlagDialog,HZ.ui.yamdi.Dialog),HZ.flag.ShowFlagDialog=function(a){null===HZ.flag.flagDialogInstance&&(HZ.flag.flagDialogInstance=new HZ.flag.FlagDialog,HZ.flag.flagDialogInstance.prepare());var b="undefined"!=typeof a&&"undefined"!=typeof a.okCallback?a.okCallback:null,c="undefined"!=typeof a&&"undefined"!=typeof a.isComment?a.isComment:!0;c?(HZ.flag.flagDialogInstance.setTitle(_hgt("Report Comment")),HZ.flag.flagDialogInstance.getBody().find(".why-report").text(_hgt("Why are you reporting this comment?"))):(HZ.flag.flagDialogInstance.setTitle(_hgt("Report Post")),HZ.flag.flagDialogInstance.getBody().find(".why-report").text(_hgt("Why are you reporting this post?"))),HZ.ui.Yamdi.show(HZ.flag.flagDialogInstance),HZ.flag.flagDialogInstance.bindButtonHandler(b)};

window.hzmr.push("flagContent:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End flagContent.js  **************/
/************* Start extracting text for feedComments.js for locale sv-SE **************/
(function(){var _hzxt={"This pro has a complete profile.":"Den h\u00e4r experten har en komplett profil.","Unable to add comment.  Please reload the page and try again.":"Det g\u00e5r inte att l\u00e4gga till en kommentar. Ladda sidan p\u00e5 nytt och f\u00f6rs\u00f6k igen.","Unable to add comment":"Det g\u00e5r inte att l\u00e4gga till en kommentar","Please enter your comment.":"Skriv din kommentar.","Show comments":"Visa kommentarer","Pending":"Inv\u00e4ntar","Are you sure you want to delete this comment?":"Vill du ta bort den h\u00e4r kommentaren?","Delete a comment":"Ta bort en kommentar","Hide comments":"D\u00f6lj kommentarer","Rejected":"Avvisad","Edit comment":"Redigera kommentaren","Delete Comment":"Ta bort kommentaren","":"","Submit":"Skicka"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for feedComments.js  **************/
/************* Start feedComments.js for locale sv-SE **************/
try {!function(a){a.widget("hz.feedComments",{objectId:null,objectType:null,commentCount:null,fbShareable:null,clearRecentCommentsOnFirstLoad:!1,isProductQuestion:!1,isGetCommentsCalled:!1,$cachedMoreComments:a(),cachedCommentCount:null,options:{source:null,dataName:"hz",loaderClass:"loader",loaderHideClass:"loaderHide",commentsToggleClass:"commentsToggle",editCommentSelector:".editCommentDiv",commentBodyInput:"textarea.commentBody",slideDuration:400,selectors:{commentable:".feedComments",comment:".comment",moreComments:".moreComments",loadedCount:".moreComments .loadedCount",remainingCount:".moreComments .remainingCount",commentCount:".moreComments .commentCount",addCommentForm:".addComment form",lastCommentInput:".addComment form input[name='lastCommentId']",bodyInput:".addComment form textarea[name='body']",seeMoreComments:"a.seeMoreComments",commentsContainer:".commentsContainer",addComment:".addComment",submitButton:".addComment form .submitAddComment",addCommentExtra:".addComment .addCommentExtra",fileInputs:".fileInputs",editErrorMessage:".editCommentDiv .commentError",errorMessage:".addComment .commentError"}},_findObject:function(a){var b=this.element.find(a);return b.length>0?b:null},_initElements:function(){this.elements=new Object;for(var a in this.options.selectors){var b=this.options.selectors[a];this.elements[a]=this._findObject(b)}},_create:function(){this.objectId=null,this.objectType=null,this.topCommentId=null,this.lastCommentId=0,this.commentCount=null,this.numCommentsLoaded=null,this.executing=!1;var a=this._getAndValidateData(this.element,this.options.dataName,["id","type","cc","crc","ipq"]);this.objectId=a.id,this.objectType=a.type,this.commentCount=a.cc,this.fbShareable=a.fbs,this.clearRecentCommentsOnFirstLoad=a.crc,this.isProductQuestion=a.ipq,this._initElements(),null!=this.elements.bodyInput&&(this.elements.bodyInput.css("resize","none").css("height","1em").autosize(),"undefined"!=typeof HZ.modules&&"undefined"!=typeof HZ.modules.SpacePreview&&HZ.modules.SpacePreview.init(this.elements.bodyInput)),this._updateCommentsEvent()},_showLoader:function(b){this.$loadRestoreElement=a(b),this.$loadRestoreElement.addClass(this.options.loaderHideClass).after(a("<div class='"+this.options.loaderClass+"'></div>"))},_hideLoader:function(){this.$loadRestoreElement.siblings("."+this.options.loaderClass).hide().remove(),this.$loadRestoreElement.removeClass(this.options.loaderHideClass)},_initCommentsToggle:function(){this.elements.seeMoreComments.addClass(this.options.commentsToggleClass).text(_hgt("Hide comments"))},_updateCommentsEvent:function(a){if("undefined"!=typeof a&&null!=a&&(this.commentCount=a),"undefined"==typeof this.elements&&this._initElements(),this.elements.comments=this._findObject(this.options.selectors.comment),this.numCommentsLoaded=null!=this.elements.comments?this.elements.comments.length:0,this.numCommentsRemaining=this.commentCount-this.numCommentsLoaded,this.numCommentsLoaded>0){var b=this.elements.comments.first(),c=this._getAndValidateData(b,this.options.dataName,["id"]);this.topCommentId=c.id;var d=this.elements.comments.last();c=this._getAndValidateData(d,this.options.dataName,["id"]),this.lastCommentId=c.id}null!=this.elements.moreComments&&this.numCommentsLoaded>=this.commentCount&&this._initCommentsToggle(),null!=this.elements.loadedCount&&this.elements.loadedCount.html(this.numCommentsLoaded),null!=this.elements.remainingCount&&this.elements.remainingCount.text(this.numCommentsRemaining)},_getAndValidateData:function(a,b,c){var d=a.data(b);if(void 0===d)throw"incompatible element, no data";for(var e in c)if(c.hasOwnProperty(e)){var f=c[e];if(f instanceof Array){var g=!1;for(var h in f)if("undefined"!=typeof d[f[h]]){g=!0;break}if(!g)throw"incompatible element, required attribute not found"}else if("undefined"==typeof d[f])throw"incompatible element, required attribute not found: "+f}return d},deleteClick:function(b){HZ.ui.yamdi.Common.confirm(_hgt("Delete a comment"),_hgt("Are you sure you want to delete this comment?"),_hgt("Delete Comment"),a.proxy(function(){if(!this.executing){this.executing=!0,this.$commentToDelete=a(b.target).closest(this.options.selectors.comment);var c=this.$commentToDelete.data("hz").id;HZ.ajaz.Services.deleteComment(this.objectType,this.objectId,c,a.proxy(this._deleteAjaxHandler,this))}},this),null,null,function(){a(document).trigger("keyboardHandlerRequired",{source:this,event:b})},function(){a(document).trigger("keyboardHandlerReleased",{source:this,event:b})})},_deleteAjaxHandler:function(b){"true"==b.success&&this.$commentToDelete.slideUp(this.options.slideDuration,a.proxy(function(){var a=b.commentCount;if(this.$commentToDelete.remove(),this._updateCommentsEvent(a),HZ.globalComments){var c=this.$commentToDelete.data("hz"),d={commentId:c.id,translation:null,language:c.lang};HZ.globalComments.removeComments([d])}},this)),HZ.ui.yamdi.Common.hideAllDialogs(),this.executing=!1,this._notifyObservers()},editClick:function(b){var c=a(b.target).closest(this.options.selectors.comment).find(this.options.editCommentSelector).first(),d=c.clone();this.$commentToUpdate=a(b.target).closest(this.options.selectors.comment),HZ.ui.yamdi.Common.confirm(_hgt("Edit comment"),d,_hgt("Submit"),a.proxy(function(){if(!this.executing){this.executing=!0;var b=d.find("form [name='objectType']").val(),c=d.find("form [name='objectId']").val(),e=d.find("form [name='commentId']").val(),f=a.trim(d.find("form [name='body']").val()),g=d.find("form [name='privacy']"),h=a(g).prop("checked")?a(g).val():null,i=d.find("form [name='isHtml']").val();d.find(this.options.commentBodyInput).attr("disabled","true"),HZ.ajaz.Services.updateComment(b,c,e,f,h,this.options.source,i,a.proxy(this._editCommentAjaxHandler,this))}},this),null,null,function(){a(document).trigger("keyboardHandlerRequired",{source:this,event:b})},function(){a(document).trigger("keyboardHandlerReleased",{source:this,event:b})})},flagClick:function(b){var c,d,e,f=a(b.currentTarget),g=f.closest(this.options.selectors.comment),h=f.closest(this.options.selectors.commentable),d=g.data("hz").id,i=h.data("hz").type;h.data("hz").ipq;c=i===HZ.ajaz.ContentFlag.COMMENTABLE_GALLERY?HZ.ajaz.ContentFlag.COMMENT:HZ.ajaz.ContentFlag.ANSWER;var j=this;if(g.hasClass("flaggedComment"))this._showLoader(f.parents(".flag-message")),HZ.ajaz.ContentFlag.removeFlag(c,d,function(a){if("true"==a.success){var b=function(){g.removeClass("flaggedComment"),j._hideLoader()};if(UIHelper.isIE8||UIHelper.isIE7||UIHelper.isIE6?(g.css({"max-height":"10000px"}),b()):g.animate({"max-height":"10000px"},"slow",b),"undefined"!=typeof a.as){var c=a.as,d=g.find(".admin-controls"),e=g.find(".hz-spam-control");0===c?(g.removeClass("isolated rejected"),d.removeClass("active"),e.text("")):1===c?(g.removeClass("rejected").addClass("isolated"),d.addClass("active"),e.text("("+_hgt("Pending")+")")):2===c?(g.removeClass("isolated rejected"),d.removeClass("active"),e.text("")):4===c&&(g.addClass("isolated rejected"),d.addClass("active"),e.text("("+_hgt("Rejected")+")"))}}else j._hideLoader()});else{var k=function(a,b){HZ.ajaz.ContentFlag.addFlag(c,d,b,e,function(a){if(HZ.ui.AjaxThrobber.setInCall(!1),"true"===a.success){HZ.ui.yamdi.Common.hideAllDialogs();var b=function(){g.addClass("flaggedComment")};b()}else HZ.flag.flagDialogInstance.showStatus(a.error)})};HZ.flag.ShowFlagDialog({okCallback:k,isComment:!0})}},_editCommentAjaxHandler:function(b){if("true"==b.success&&b.comments){var c=a(b.comments);c.hide(),this.$commentToUpdate.replaceWith(c),c.fadeIn()}HZ.ui.yamdi.Common.hideAllDialogs(),this.executing=!1,this._notifyObservers()},_toggleCommentsContainer:function(){this.elements.commentsContainer.is(":visible")?(this.elements.commentsContainer.slideUp(this.options.slideDuration),this.elements.seeMoreComments.text(_hgt("Show comments"))):this._showCommentsContainer(),this._notifyObservers()},_showCommentsContainer:function(){this.elements.commentsContainer.is(":visible")||(this.elements.commentsContainer.slideDown(this.options.slideDuration),this.elements.seeMoreComments.text(_hgt("Hide comments")))},showMoreClick:function(b){if(a(b.target).hasClass(this.options.commentsToggleClass))this._toggleCommentsContainer();else{if(this.executing)return;if(this.executing=!0,this.isGetCommentsCalled)this._showCachedMoreComments();else{this._showLoader(b.currentTarget),this.clearRecentCommentsOnFirstLoad&&this._clearRecentCommentsPreAjax();var c=this.topCommentId,d=[],e=null,f=this.element.closest(".feedItem").length;HZ.globalComments&&(d=HZ.globalComments.getSelectedLanguages(),e=this.numCommentsRemaining),HZ.ajaz.Services.getComments(this.objectType,this.objectId,e,c,null,this.options.source,d,f,a.proxy(this._showMoreAjaxHandler,this))}}},cachedCommentsExist:function(){return this.isGetCommentsCalled},getComments:function(){this.executing||(this.executing=!0,this.isGetCommentsCalled=!0,HZ.ajaz.Services.getComments(this.objectType,this.objectId,this.numCommentsRemaining,this.topCommentId,null,this.options.source,HZ.globalComments?HZ.globalComments.getSelectedLanguages():[],this.element.closest(".feedItem").length,a.proxy(this._onGetComments,this)))},_onGetComments:function(b){if(b.comments){var c=a(a("<div>").html(b.comments).text()).hide().prependTo(this.elements.commentsContainer);if(this.$cachedMoreComments=c,this.cachedCommentCount=b.commentCount,HZ.globalComments){var d=a.map(c,function(b,c){var d=a(b).data("hz");return{commentId:d.id,translation:null,language:d.lang}});HZ.globalComments.setComments(d,!1),HZ.globalComments.toggleTranslateAllButton(),this.elements.seeMoreComments[0].dispatchEvent(new Event("gc-showMoreComments"))}this.executing=!1}else this.executing=!1},_showCachedMoreComments:function(){this._showLoader(this.elements.seeMoreComments),this.clearRecentCommentsOnFirstLoad&&this._clearRecentCommentsPreAjax(),this.$cachedMoreComments.length?(this._updateCommentsEvent(this.cachedCommentCount),this.$cachedMoreComments.slideDown(this.options.slideDuration,a.proxy(function(){"undefined"!=typeof HZ.feedComments&&"undefined"!=typeof HZ.feedComments.Peekable&&"undefined"!=typeof HZ.feedComments.Peekable.peekableHandler&&this.$cachedMoreComments.find(".commentBodyContent.comment-peekable").each(HZ.feedComments.Peekable.peekableHandler),this._hideLoader(),this.executing=!1},this)),HZ.globalComments&&HZ.globalComments.toggleTranslateAllButton()):(this._updateCommentsEvent(0),this._hideLoader(),this.executing=!1),HZ.globalComments&&(HZ.globalComments.enableSelectAllLanguagesView(),this.elements.moreComments.hide()),this.isGetCommentsCalled=!1},_clearRecentCommentsPreAjax:function(){this.topCommentId=4294967295},_clearRecentCommentsPostAjax:function(){this.elements.commentsContainer.empty(),this.clearRecentCommentsOnFirstLoad=!1},_showMoreAjaxHandler:function(b){if(b.comments){this.clearRecentCommentsOnFirstLoad&&this._clearRecentCommentsPostAjax();var c=a(a("<div>").html(b.comments).text());c.hide(),this.elements.commentsContainer.prepend(c);var d=b.commentCount;if(this._updateCommentsEvent(d),c.slideDown(this.options.slideDuration,a.proxy(function(){"undefined"!=typeof HZ.feedComments&&"undefined"!=typeof HZ.feedComments.Peekable&&"undefined"!=typeof HZ.feedComments.Peekable.peekableHandler&&c.find(".commentBodyContent.comment-peekable").each(HZ.feedComments.Peekable.peekableHandler),this._hideLoader(),this.executing=!1},this)),HZ.globalComments){var e=a.map(c,function(b,c){var d=a(b).data("hz"),e={commentId:d.id,translation:null,language:d.lang};return e});HZ.globalComments.setComments(e,!1),HZ.globalComments.toggleTranslateAllButton(),this.elements.seeMoreComments[0].dispatchEvent(new Event("gc-showMoreComments"))}}else this._updateCommentsEvent(0),this._hideLoader(),this.executing=!1;HZ.globalComments&&(HZ.globalComments.enableSelectAllLanguagesView(),this.elements.moreComments.hide())},_addCommentKeypress:function(a){var b=a.keyCode?a.keyCode:a.which;13!=b||a.shiftKey||(a.preventDefault(),this.submitAddComment(a))},validateAddComment:function(){return this.executing?!1:""==a.trim(this.elements.bodyInput.val())?!1:(this.executing=!0,this.elements.bodyInput.attr("disabled","true"),!0)},updateLastCommentFormInput:function(){null!=this.lastCommentId&&this.elements.lastCommentInput.val(this.lastCommentId)},submitAddComment:function(b){if(HZ.feedComments.requireLoggedIn(69)&&!this.executing){var c=this.elements.bodyInput.attr("placeholder"),d=a.trim(this.elements.bodyInput.val()),e=parseInt(this.elements.bodyInput.attr("maxlength"),10)||1e4;if(""==d||d===c)return void this.elements.errorMessage.text(_hgt("Please enter your comment.")).slideDown(this.options.slideDuration);var f=d.length;if(f>e){var g=_hgt("Your post is {numOfCharsToDelete} too long, posts can be up to {lengthLimit} characters. Please make it a little shorter and try again.",{lengthLimit:e,numOfCharsToDelete:_hgtp("","1 character","{n} characters",f-e,{n:f-e})});return void this.elements.errorMessage.text(g).slideDown(this.options.slideDuration)}if(this.options.source){var h=this.elements.addCommentForm.find("input [name='source']");if(0==h.length){var h=a("<input type='hidden' name='source' value='"+this.options.source+"'/>");this.elements.addCommentForm.append(h)}}var i=a.proxy(function(){this.executing=!0,this.updateLastCommentFormInput();var b={success:a.proxy(function(b,c,d,e){var f=a.parseJSON(a(b).text());this._addCommentAjaxHandler(f);var g=this.elements.addComment.find("textarea.add-comment-rte");g.data("hz-addCommentRte")&&g.addCommentRte("destroy")},this),error:a.proxy(function(a,b,c){this._addCommentAjaxHandler(c)},this)};if(HZ.globalComments){var c=HZ.globalComments.getSelectedLanguages(),d=this.elements.addCommentForm.find("input[name=preferredLanguages]");-1==a.inArray("other",c)&&c.push("other"),d.length?d.val(c.join(",")):(d=a('<input type="hidden" name="preferredLanguages" value="'+c.join(",")+'">'),this.elements.addCommentForm.append(d));var e=this.elements.addCommentForm.find("input[name=lastCommentId]");if(e.length){for(var f,g=0;g<c.length;g++){var h=c[g],i=HZ.globalComments.getLastCommentIdByLanguage(h);i=parseInt(i)||null,(!f||i>f)&&(f=i)}e.val(f||e.val())}}var j=this.elements.addCommentForm.find("input[name=isReferrerGalleryFeed]");j.length?j.val(1):a('<input type="hidden" name="isReferrerGalleryFeed">').val(1).appendTo(this.elements.addCommentForm),this.elements.addCommentForm.ajaxSubmit(b),this.elements.addCommentForm.find("input, textarea, button, select").attr("readonly","true"),this._showLoader(this.elements.submitButton),this._showCommentsContainer()},this);i()}},_addCommentAjaxHandler:function(b){if(b&&"true"==b.success){var c=a(b.comments);c.hide(),this.elements.commentsContainer.append(c),this.elements.addCommentForm.get(0).reset(),this.elements.addCommentExtra.hide(),this.elements.addComment.find(".hzProIndicator").hide(),null!=this.elements.fileInputs&&(this.elements.fileInputs[0].innerHTML=this.elements.fileInputs[0].innerHTML,this.elements.fileInputs.hide().find("input").hide().first().show()),this.elements.addCommentForm.find(".attachment-previews").empty(),"undefined"!=typeof HZ.modules&&"undefined"!=typeof HZ.modules.SpacePreview&&HZ.modules.SpacePreview&&HZ.modules.SpacePreview.clearCache&&HZ.modules.SpacePreview.clearCache(this.elements.bodyInput),this.elements.bodyInput.trigger("autosize"),this.elements.bodyInput.trigger("reset"),this.elements.errorMessage.hide();var d=b.commentCount;if(this._updateCommentsEvent(d),c.fadeIn((this.options.slideDuration,a.proxy(function(){"undefined"!=typeof HZ.feedComments&&"undefined"!=typeof HZ.feedComments.Peekable&&"undefined"!=typeof HZ.feedComments.Peekable.peekableHandler&&c.find(".commentBodyContent.comment-peekable").each(HZ.feedComments.Peekable.peekableHandler)},this))),HZ.globalComments){var e=a.map(c,function(b,c){var d=a(b).data("hz"),e={commentId:d.id,translation:null,language:d.lang};return e});HZ.globalComments.setComments(e,!0)}}else HZ.ui.yamdi.Common.alert(_hgt("Unable to add comment"),_hgt("Unable to add comment.  Please reload the page and try again."));this.executing=!1,this.elements.addCommentForm.find("input, textarea, button, select").removeAttr("readonly"),this._hideLoader(),this._notifyObservers()},_notifyObservers:function(){this.options.contentChangedHandler&&this.options.contentChangedHandler()}})}(jQuery),HZ.ns("HZ.feedComments"),HZ.feedComments=new function(){var a={source:null,feedContainer:".feedContainer",feedInfo:".feedInfo",feedActions:".feedActions"},b="hz-feedComments",c={feedComments:".feedComments",commentButton:"a.commentButton",showCommentLink:"a.show-comments",addCommentInput:".addComment form textarea[name='body']",addComment:".addComment",fileInputs:".fileInputs",addCommentExtra:".addCommentExtra",submitButton:".submitAddComment",seeMoreComments:".moreComments a",deleteComment:".comment .deleteComment",editComment:".comment .editComment",attachFiles:".addComment .link--addPhoto",attachFilesInput:".addComment .addCommentFileInput",proIndicator:".hzProIndicator.hzProfileCompleted.hzProView",flagComment:".comment .flagComment, .comment .unflag"};this.init=function(b){var e=!1,f=function(){$(".add-comment-rte").each(function(a,b){$(b).data("hz-addCommentRte")&&$(b).addCommentRte("destroy")}),$(".edit-comment-rte").each(function(a,b){$(b).data("hz-editCommentRte")&&$(b).editCommentRte("destroy")})};if(!b.source)throw"source attribute required";config={},$.extend(config,a,b),null==$(config.feedContainer).data("feedCommentsConfig")&&($(config.feedContainer).data("feedCommentsConfig",config),$(c.addCommentInput).initPlaceHolders(),$(config.feedContainer).on("mouseover",c.proIndicator,function(a){var b=$(this);b.tipBubble({id:"proIndicatorHelp",content:_hgt("This pro has a complete profile."),point:"north",width:"auto",offsetY:4,position:"absolute",attachTo:"body",showCloseBtn:!1})}).on("mouseout",c.proIndicator,function(){var a=$(this);a.tipBubble("hide")}),$(config.feedContainer).on("click",c.commentButton+","+c.showCommentLink,function(a){var b=$(this).closest(config.feedInfo);if(0!=b.length){var d=$(b).parents(".feedItem").find(c.feedComments);0!=d.length&&(d.show(),"undefined"!=typeof HZ.feedComments&&"undefined"!=typeof HZ.feedComments.Peekable&&"undefined"!=typeof HZ.feedComments.Peekable.peekableHandler&&d.find(".commentBodyContent.comment-peekable").each(HZ.feedComments.Peekable.peekableHandler),$(this).is(c.commentButton)&&d.find(c.addCommentInput).focus())}}),$(config.feedContainer).on("focus",c.addCommentInput,function(a){$(document).trigger("keyboardHandlerRequired",{source:this,event:a});var b=(d(this,config),$(this).parents(c.feedComments).find(c.addCommentExtra));b.is(":visible")||b.show(),$(this).parents(c.addComment).find(".hzProIndicator").show(),f(),$(this).prop("disabled",!0).closest(".addComment").find(".link--addPhoto").hide(),e?$(this).addCommentRte({onFocus:function(){$(document).trigger("keyboardHandlerRequired",{source:this,event:a})},onBlur:function(){HZ.ui.Yamdi.isShowing()||$(document).trigger("keyboardHandlerReleased",{source:this,event:a})}}).prop("disabled",!1):HZ.utils.ResourceLoader.requireCommentRichTextEditorResources($.proxy(function(){$(this).addCommentRte({onFocus:function(){$(document).trigger("keyboardHandlerRequired",{source:this,event:a})},onBlur:function(){HZ.ui.Yamdi.isShowing()||$(document).trigger("keyboardHandlerReleased",{source:this,event:a})}}).prop("disabled",!1),e=!0},this))}),$(config.feedContainer).on("blur",c.addCommentInput,function(a){$(document).trigger("keyboardHandlerReleased",{source:this,event:a})}),$(config.feedContainer).on("click",c.submitButton,function(a){var b=d(this,config);b.submitAddComment(a)}),$(config.feedContainer).on("click",c.seeMoreComments,function(a){var b=d(this,config);b.showMoreClick(a)}),$(config.feedContainer).on("click",c.deleteComment,function(a){a.preventDefault();var b=d(this,config);b.deleteClick(a)}),$(config.feedContainer).on("click",c.editComment,function(a){f();var b=$(this).closest(".comment").find("textarea.edit-comment-rte");if(b.length)e?b.editCommentRte({onFocus:function(){$(document).trigger("keyboardHandlerRequired",{source:this,event:a})},onBlur:function(){HZ.ui.Yamdi.isShowing()||$(document).trigger("keyboardHandlerReleased",{source:this,event:a})}}):HZ.utils.ResourceLoader.requireCommentRichTextEditorResources(function(){b.editCommentRte({onFocus:function(){$(document).trigger("keyboardHandlerRequired",{source:this,event:a})},onBlur:function(){HZ.ui.Yamdi.isShowing()||$(document).trigger("keyboardHandlerReleased",{source:this,event:a})}}),e=!0});else{var c=d(this,config);c.editClick(a)}}),$(config.feedContainer).on("click",c.flagComment,function(a){a.preventDefault();var b=d(this,config);b.flagClick(a)}),$(config.feedContainer).on("click",c.attachFiles,function(a){if(HZ.feedComments.requireLoggedIn(69)){var b=$(a.currentTarget).parents(c.addComment).find(c.fileInputs);b.is(":visible")||(b.show(),UIHelper.isMSIE||b.find("input.addCommentFileInput").first().click())}}),$(config.feedContainer).on("change",c.attachFilesInput,function(a){$(this).next("input.addCommentFileInput").css("display","block")}))},this.requireLoggedIn=function(a){return null==HZ.data.CurrentSessionUser?(HZ.auth.Manager.signup(a),!1):!0},this.getFeedCommentsWidget=function(a){return d(a,config)};var d=function(a,d){var e=null,f=$(a).closest(c.feedComments);return e=f.data(b),null==e&&(e=f.feedComments({source:d.source}).data(b)),e}};

window.hzmr.push("feedComments:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End feedComments.js  **************/
/************* Start jquery.form.min.js for locale sv-SE **************/
try {!function(a){"use strict";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData,a.fn.ajaxSubmit=function(b){function c(b){var c,d,e=a.param(b).split("&"),f=e.length,g=[];for(c=0;f>c;c++)e[c]=e[c].replace(/\+/g," "),d=e[c].split("="),g.push([decodeURIComponent(d[0]),decodeURIComponent(d[1])]);return g}function f(d){for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(f=0;f<g.length;f++)g[f]&&e.append(g[f][0],g[f][1])}b.data=null;var i=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:h||"POST"});b.uploadProgress&&(i.xhr=function(){var a=jQuery.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),a}),i.data=null;var j=i.beforeSend;return i.beforeSend=function(a,b){b.data=e,j&&j.call(this,a,b)},a.ajax(i)}function g(c){function e(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}function f(){function b(){try{var a=e(q).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d("Server abort: ",c," (",c.name,")"),g(A),v&&clearTimeout(v),v=void 0}}var c=k.attr("target"),f=k.attr("action");w.setAttribute("target",n),h||w.setAttribute("method","POST"),f!=l.url&&w.setAttribute("action",l.url),l.skipEncodingOverride||h&&!/post/i.test(h)||k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(v=setTimeout(function(){u=!0,g(z)},l.timeout));var i=[];try{if(l.extraData)for(var j in l.extraData)l.extraData.hasOwnProperty(j)&&(a.isPlainObject(l.extraData[j])&&l.extraData[j].hasOwnProperty("name")&&l.extraData[j].hasOwnProperty("value")?i.push(a('<input type="hidden" name="'+l.extraData[j].name+'">').val(l.extraData[j].value).appendTo(w)[0]):i.push(a('<input type="hidden" name="'+j+'">').val(l.extraData[j]).appendTo(w)[0]));l.iframeTarget||(p.appendTo("body"),q.attachEvent?q.attachEvent("onload",g):q.addEventListener("load",g,!1)),setTimeout(b,15);try{w.submit()}catch(m){var o=document.createElement("form").submit;o.apply(w)}}finally{w.setAttribute("action",f),c?w.setAttribute("target",c):k.removeAttr("target"),a(i).remove()}}function g(b){if(!r.aborted&&!F){try{E=e(q)}catch(c){d("cannot access response document: ",c),b=A}if(b===z&&r)return r.abort("timeout"),void y.reject(r,"timeout");if(b==A&&r)return r.abort("server abort"),void y.reject(r,"error","server abort");if(E&&E.location.href!=l.iframeSrc||u){q.detachEvent?q.detachEvent("onload",g):q.removeEventListener("load",g,!1);var f,h="success";try{if(u)throw"timeout";var i="xml"==l.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+i),!i&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d("requeing onLoad callback, DOM not available"),void setTimeout(g,250);var j=E.body?E.body:E.documentElement;r.responseText=j?j.innerHTML:null,r.responseXML=E.XMLDocument?E.XMLDocument:E,i&&(l.dataType="xml"),r.getResponseHeader=function(a){var b={"content-type":l.dataType};return b[a]},j&&(r.status=Number(j.getAttribute("status"))||r.status,r.statusText=j.getAttribute("statusText")||r.statusText);var k=(l.dataType||"").toLowerCase(),n=/(json|script|text)/.test(k);if(n||l.textarea){var o=E.getElementsByTagName("textarea")[0];if(o)r.responseText=o.value,r.status=Number(o.getAttribute("status"))||r.status,r.statusText=o.getAttribute("statusText")||r.statusText;else if(n){var s=E.getElementsByTagName("pre")[0],t=E.getElementsByTagName("body")[0];s?r.responseText=s.textContent?s.textContent:s.innerText:t&&(r.responseText=t.textContent?t.textContent:t.innerText)}}else"xml"==k&&!r.responseXML&&r.responseText&&(r.responseXML=H(r.responseText));try{D=J(r,k,l)}catch(w){h="parsererror",r.error=f=w||h}}catch(w){d("error caught: ",w),h="error",r.error=f=w||h}r.aborted&&(d("upload aborted"),h=null),r.status&&(h=r.status>=200&&r.status<300||304===r.status?"success":"error"),"success"===h?(l.success&&l.success.call(l.context,D,"success",r),y.resolve(r.responseText,"success",r),m&&a.event.trigger("ajaxSuccess",[r,l])):h&&(void 0===f&&(f=r.statusText),l.error&&l.error.call(l.context,r,h,f),y.reject(r,"error",f),m&&a.event.trigger("ajaxError",[r,l,f])),m&&a.event.trigger("ajaxComplete",[r,l]),m&&!--a.active&&a.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,r,h),F=!0,l.timeout&&clearTimeout(v),setTimeout(function(){l.iframeTarget||p.remove(),r.responseXML=null},100)}}}var i,j,l,m,n,p,q,r,s,t,u,v,w=k[0],x=!!a.fn.prop,y=a.Deferred();if(c)for(j=0;j<o.length;j++)i=a(o[j]),x?i.prop("disabled",!1):i.removeAttr("disabled");if(l=a.extend(!0,{},a.ajaxSettings,b),l.context=l.context||l,n="jqFormIO"+(new Date).getTime(),l.iframeTarget?(p=a(l.iframeTarget),t=p.attr("name"),t?n=t:p.attr("name",n)):(p=a('<iframe name="'+n+'" src="'+l.iframeSrc+'" />'),p.css({position:"absolute",top:"-1000px",left:"-1000px"})),q=p[0],r={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1;try{q.contentWindow.document.execCommand&&q.contentWindow.document.execCommand("Stop")}catch(e){}p.attr("src",l.iframeSrc),r.error=c,l.error&&l.error.call(l.context,r,c,b),m&&a.event.trigger("ajaxError",[r,l,c]),l.complete&&l.complete.call(l.context,r,c)}},m=l.global,m&&0===a.active++&&a.event.trigger("ajaxStart"),m&&a.event.trigger("ajaxSend",[r,l]),l.beforeSend&&l.beforeSend.call(l.context,r,l)===!1)return l.global&&a.active--,y.reject(),y;if(r.aborted)return y.reject(),y;s=w.clk,s&&(t=s.name,t&&!s.disabled&&(l.extraData=l.extraData||{},l.extraData[t]=s.value,"image"==s.type&&(l.extraData[t+".x"]=w.clk_x,l.extraData[t+".y"]=w.clk_y)));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(l.extraData=l.extraData||{},l.extraData[C]=B),l.forceSync?f():setTimeout(f,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var h,i,j,k=this;"function"==typeof b&&(b={success:b}),h=this.attr("method"),i=this.attr("action"),j="string"==typeof i?a.trim(i):"",j=j||window.location.href||"",j&&(j=(j.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:j,success:a.ajaxSettings.success,type:h||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var l={};if(this.trigger("form-pre-serialize",[this,b,l]),l.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var m=b.traditional;void 0===m&&(m=a.ajaxSettings.traditional);var n,o=[],p=this.formToArray(b.semantic,o);if(b.data&&(b.extraData=b.data,n=a.param(b.data,m)),b.beforeSubmit&&b.beforeSubmit(p,this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[p,this,b,l]),l.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var q=a.param(p,m);n&&(q=q?q+"&"+n:n),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+q,b.data=null):b.data=q;var r=[];if(b.resetForm&&r.push(function(){k.resetForm()}),b.clearForm&&r.push(function(){k.clearForm(b.includeHidden)}),!b.dataType&&b.target){var s=b.success||function(){};r.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(s,arguments)})}else b.success&&r.push(b.success);b.success=function(a,c,d){for(var e=b.context||this,f=0,g=r.length;g>f;f++)r[f].apply(e,[a,c,d||k,k])};var t=a('input[type=file]:enabled[value!=""]',this),u=t.length>0,v="multipart/form-data",w=k.attr("enctype")==v||k.attr("encoding")==v,x=e.fileapi&&e.formdata;d("fileAPI :"+x);var y,z=(u||w)&&!x;b.iframe!==!1&&(b.iframe||z)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){y=g(p)}):y=g(p):y=(u||w)&&x?f(p):a.ajax(b),k.removeData("jqxhr").data("jqxhr",y);for(var A=0;A<o.length;A++)o[A]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f=this[0],g=b?f.getElementsByTagName("*"):f.elements;if(!g)return d;var h,i,j,k,l,m,n;for(h=0,m=g.length;m>h;h++)if(l=g[h],j=l.name)if(b&&f.clk&&"image"==l.type)l.disabled||f.clk!=l||(d.push({name:j,value:a(l).val(),type:l.type}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}));else if(k=a.fieldValue(l,!0),k&&k.constructor==Array)for(c&&c.push(l),i=0,n=k.length;n>i;i++)d.push({name:j,value:k[i]});else if(e.fileapi&&"file"==l.type&&!l.disabled){c&&c.push(l);var o=l.files;if(o.length)for(i=0;i<o.length;i++)d.push({name:j,value:o[i],type:l.type});else d.push({name:j,value:"",type:l.type})}else null!==k&&"undefined"!=typeof k&&(c&&c.push(l),d.push({name:j,value:k,type:l.type,required:l.required}));if(!b&&f.clk){var p=a(f.clk),q=p[0];j=q.name,j&&!q.disabled&&"image"==q.type&&(d.push({name:j,value:p.val()}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone()):a(this).val(""):b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}(jQuery);

window.hzmr.push("jquery.form.min:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End jquery.form.min.js  **************/
/************* Start spacePreview.js for locale sv-SE **************/
try {HZ.ns("HZ.modules"),HZ.modules.SpacePreview=new function(){var a=new RegExp("https?://(?:www\\.)?(?:mytest|houzztest|houzz2?|stghouzz)\\.[A-Za-z\\./]*/("+HZ.utils.Config.spaceCommand+"|"+HZ.utils.Config.galleryCommand+"|projects)/(\\d+)(?=(?:\\D|$))[/\\?=&\\+%\\w-#]*","g");this.init=function(a){if("undefined"!=typeof a&&a.length){var c;c=a.parents(".bubble--post").length?$('<div class="generatedPhotoCtn clearfix"></div>').insertAfter(a.parents(".bubble--post")):$('<div class="generatedPhotoCtn clearfix"></div>').insertAfter(a),c.data("urlToId",{}),a.data("preview",{analyzing:!1}),""!==a.val()&&b(a,c);var d=function(){var d=$(this).data("preview"),e=d&&d.analyzing?d.analyzing:!1;e||b(a,c)};a.bind("keyup.linkConverter",$.debounce(700,d)).bind("change.linkConverter",d).bind("paste.linkConverter",function(){setTimeout(d,0)}).bind("reset",d),c.on("click",".removeThumb",function(b){e($(this),a,c)})}};var b=function(b,e){var f,g,h,i,j,k=[],l=[],m=[];g=b.data("preview"),g&&(g.analyzing=!0),b.data("preview",g),f=b.val(),h=e.data("urlToId"),k=f.match(a),null===k&&(k=[]),j=k.length;for(var n=0;j>n;n++){var i=k[n];"undefined"==typeof h[i]&&l.push(i)}for(var i in h)h.hasOwnProperty(i)&&-1===$.inArray(i,k)&&m.push(i);m.length&&d(e,m),l.length?c(k,b,e):b.data("preview",{analyzing:!1})},c=function(a,b,c){var d,e,f,g,h=0,i=a.join(" "),j=$("#questionsGuidelines"),k=function(a){var b="";for(var i in a)if(a.hasOwnProperty(i)&&(e=a[i],d=HZ.data.Spaces.get(e),d&&d.iids&&d.iids[0])){g=d.iids[0],f=HZ.data.Images.get(g),f&&(h=f.ts),h=h?h:"0000";var k=HZ.utils.Links.getStaticImageUrlHost()+g+"_5-"+h+"/home-design.jpg";b+='<div class="houseThumbnail" data-id="'+e+'"><img width="75px" height="55px" src="'+k+'"/><a href="javascript:;" class="removeThumb"></a></div>'}b?c.html(b).show():c.html("").hide(),b&&j.length>0&&j.hide()};i?HZ.ajaz.Services.getMinimalSpaceData(i,function(a){if(a&&"true"===a.success&&a.spaces&&a.images){var d=HZ.data.Spaces.getCollection(),e=HZ.data.Images.getCollection();$.extend(!0,d,a.spaces),$.extend(!0,e,a.images),HZ.data.Spaces.addAll(d),HZ.data.Images.addAll(e),k(a.urlToId),c.data("urlToId",a.urlToId),b.data("preview",{analyzing:!1})}else b.data("preview",{analyzing:!1})}):b.data("preview",{analyzing:!1})},d=function(a,b){for(var c=a.data("urlToId"),d=b.length,e=0;d>e;e++){var f=b[e],g=c[f];a.find("[data-id="+g+"]").remove(),delete c[f]}""==a.html()&&a.hide(),a.data("urlToId",c)},e=function(a,b,c){var d,e,f,g,h=c.data("urlToId");d=a.closest(".houseThumbnail"),e=d.attr("data-id");for(var i in h)h.hasOwnProperty(i)&&h[i]===e&&(d.hide().remove(),f=b.val(),g=f.replace(i,""),b.val(g),delete h[i]);""==c.html()&&c.hide(),c.data("urlToId",h)}};

window.hzmr.push("spacePreview:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End spacePreview.js  **************/
/************* Start zoomable.js for locale sv-SE **************/
try {HZ.ns("HZ.modules.Zoomable"),HZ.modules.Zoomable=new function(){var a,b;this.init=function(){$("body").off("click.photoViewer",".js-enlarge").on("click.photoViewer",".js-enlarge",a)},a=function(a){"undefined"==typeof b&&(b=new HZ.dialogs.PhotoViewer,b.prepare()),b.showImage(this),a.preventDefault()}},HZ.ns("HZ.dialogs.PhotoViewer"),HZ.dialogs.PhotoViewer=function(){HZ.dialogs.PhotoViewer.superclass.constructor.call(this);var $body,$imgThumbDiv,shouldShowImgInfo,imageObj,zoomCallback,zoomIndex,imageArr,imgNatureWidth,imgNatureHeight,DIALOG_FRAME_PADDING=15,IMAGE_INFO_DIV_HEIGHT=30,PHOTO_VIEWER_MARGIN=.025,IMAGE_DIV_MIN_HEIGHT=190;this.prepare=function(){var a,b;$body=$('<div id="photoViewer"><div class="hzLoadingDlgThrobber"></div><div class="imgThumb text-center"></div><div class="imgInfo text-l text-right hidden"></div><div id="photoViewerClose"><a id="photoViewerCloseBtn" href="javascript:;"><i class="hzi-font hzi-CloseX"></i></a></div><div id="imgAlt"></div></div>'),$imgThumbDiv=$body.find(".imgThumb"),a=this,b={title:"",body:$body,controls:[],hideDialogOnBgClick:!0,dialogClassName:"dialogFrame-equalPadding dialogFrame-bodyOnly",onViewUnloaded:onViewUnloaded},this.init(b),this.getView().find("#photoViewerCloseBtn").unbind("click.photoViewer").bind("click.photoViewer",function(){a.getDelegate().hide(a)}),this.getView().find(".imgThumb").unbind("click.photoViewer").bind("click.photoViewer",function(){a.getDelegate().hide(a)}),this.getView().find("#imgAlt").bind("click",function(b){var c=$(b.target),d=c.attr("data-index"),e=$(imageArr[d]).attr("data-zoomsrc");a.showImage(imageObj,e),c.parent().find(".selected").removeClass("selected").end(),c.addClass("selected")})},this.showImage=function(a,b){var c,d,e,f=this,g=b?b:getSrc(a),h=$(a).attr("data-pin-no-hover"),i=$(a).attr("onmousedown"),j=$(a).attr("ondragstart"),k=$(a).attr("onselectstart"),l=$(a).attr("oncontextmenu");if(g&&(shouldShowImgInfo=!1,c=$(a).parent(),c.is("a")&&(d=c.attr("href"),d&&/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/.test(d)&&(shouldShowImgInfo=!0,e=/(houzz|gardenweb)/i.test(d))),window.lightbox&&window.lightbox.isShowing()?window.lightbox.showDialog(this):HZ.ui.Yamdi.show(this),showThrobber(),imageObj=new Image,imageObj.onload=function(){hideThrobber(),imgNatureWidth=imageObj.width,imgNatureHeight=imageObj.height,$imgThumbDiv.empty().append(imageObj),shouldShowImgInfo&&$body.find(".imgInfo").empty().append('<a href="'+d+'" class="colorLink one-line" target="_blank">'+(e?_hgt("Visit Page")+'<span class="more-icon"></span>':d)+"</a>").removeClass("hidden"),f.handleResize(),$(window).on("resize.photoViewer",$.throttle(250,$.proxy(f.handleResize,f)))},imageObj.src=g,"undefined"!=typeof h&&imageObj.setAttribute("data-pin-no-hover",h),"undefined"!=typeof i&&imageObj.setAttribute("onmousedown",i),"undefined"!=typeof j&&imageObj.setAttribute("ondragstart",j),"undefined"!=typeof k&&imageObj.setAttribute("onselectstart",k),"undefined"!=typeof l&&imageObj.setAttribute("oncontextmenu","event.preventDefault();return false;"),!$body.closest(".modal").hasClass("altZoom")&&imageArr&&imageArr.length)){if(imageArr.length>1){for(var m="",n=0;n<imageArr.length;n++){var o=n==zoomIndex?"selected":"",p=$(imageArr[n]).attr("src");m+="<img class='"+o+"' data-index='"+n+"' src='"+p+"' />"}$body.find("#imgAlt").append(m),f.handleResize()}$body.closest(".modal").addClass("altZoom")}};var showThrobber=function(){$body.find(".hzLoadingDlgThrobber").removeClass("hidden")},hideThrobber=function(){$body.find(".hzLoadingDlgThrobber").addClass("hidden")},getSrc=function(a){var b=$(a),c=b.attr("src");if(b.hasClass("img-external")===!1){var d=/_[0-9]{1,2}((?:-(?:\S)+)?.jpg)/,e=/-w(\d+)-h(\d+)-/;if(b.attr("data-callback")&&(zoomCallback=b.attr("data-callback")),b.attr("data-zoomindex")){zoomIndex=b.attr("data-zoomindex"),imageArr=b.siblings();var f=$(imageArr[zoomIndex]);c=f.attr("data-zoomsrc")}else b.data("imgurl")?(c=b.data("imgurl"),b.data("alt-target")&&(imageArr=$(b.data("alt-target")))):c=d.test(c)?c.replace(d,"_9$1"):c.replace(e,function(a,b,c){var d,e,f,g=630;return d=parseInt(b,10),e=parseInt(c,10),f=d/e,Math.max(d,e)==d?(d=g,e=parseInt(g/f,10)):(e=g,d=parseInt(g*f,10)),"-w"+d+"-h"+e+"-"})}return c},onViewUnloaded=function(){imageObj=null,imgNatureWidth=null,imgNatureHeight=null,$imgThumbDiv.empty().css({width:"auto",height:"auto"}),$body.find(".imgInfo").empty().addClass("hidden"),$body.find("#imgAlt").empty(),$body.closest(".modal").removeClass("altZoom"),$(window).off("resize.photoViewer"),zoomCallback&&eval(zoomCallback)(),$(".hbs .modal-dialog").css({"margin-top":"","margin-bottom":"",width:""})};this.handleResize=function(){if("undefined"!=typeof imageObj){var a=UIHelper.getScreenBounds(),b=Math.floor(a.w*(1-2*PHOTO_VIEWER_MARGIN)-2*DIALOG_FRAME_PADDING-2),c=Math.floor(a.h*(1-2*PHOTO_VIEWER_MARGIN)-2*DIALOG_FRAME_PADDING-2);shouldShowImgInfo&&(c-=IMAGE_INFO_DIV_HEIGHT);var d=imgNatureWidth/imgNatureHeight,e=Math.min(b,imgNatureWidth),f=Math.floor(e/d);f>c&&(f=Math.min(c,imgNatureHeight),e=Math.floor(f*d)),UIHelper.setBounds(imageObj,{x:"auto",y:"auto",w:e,h:f}),UIHelper.setBounds($imgThumbDiv[0],{x:"auto",y:"auto",w:Math.max(e,Math.min(b,Math.floor(d*IMAGE_DIV_MIN_HEIGHT))),h:Math.max(f,IMAGE_DIV_MIN_HEIGHT)}),$(imageObj).css({position:"relative",top:IMAGE_DIV_MIN_HEIGHT>f?"50%":0,"margin-top":IMAGE_DIV_MIN_HEIGHT>f?-Math.floor(f/2):0}),HZ.ui.Yamdi.center(),$(".hbs .modal-dialog").css({"margin-top":"0","margin-bottom":"0",width:Math.max(e,Math.min(b,Math.floor(d*IMAGE_DIV_MIN_HEIGHT)))+30})}}},HZ.extend(HZ.dialogs.PhotoViewer,HZ.ui.yamdi.Dialog),$(document).ready(function(){HZ.modules.Zoomable.init()});

window.hzmr.push("zoomable:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End zoomable.js  **************/
/************* Start extracting text for clipping.js for locale sv-SE **************/
(function(){var _hzxt={"Bookmark":"L\u00e4gg till som bokm\u00e4rke","Bookmarked":"Tillagt som bokm\u00e4rke"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for clipping.js  **************/
/************* Start clipping.js for locale sv-SE **************/
try {HZ.ns("HZ.clipping"),HZ.clipping.Clip=new function(){function a(a,c){var d=$(c),e=d.attr("data-object-type"),f=d.attr("data-object-id");e&&f||(e=d.parents(".hzBtn").attr("loty"),f=d.parents(".hzBtn").attr("loid")),HZ.ajaz.Clipping.clip(a,f,e,function(c){var e=d.parents(".clipContainer");c&&"true"==c.success&&(a==b.clipAction?(d.addClass("unclip").removeClass("clip").attr("title",_hgt("Bookmarked")),d.find(".hz-clip").addClass("hz-unclip hzi-Bookmarked-Circle").removeClass("hz-clip hzi-Bookmark-Circle"),e.find(".hz-clips").text(_hgt("Bookmarked"))):a==b.unclipAction&&(d.addClass("clip").removeClass("unclip").attr("title",_hgt("Bookmark")),d.find(".hz-unclip").addClass("hz-clip hzi-Bookmark-Circle").removeClass("hz-unclip hzi-Bookmarked-Circle"),e.find(".hz-clips").text(_hgt("Bookmark"))))})}var b,c;c={typeAnswer:6,typeComment:9,clipAction:"clip",unclipAction:"unclip",clipTitle:"Bookmark",unclipTitle:"Bookmarked"},this.init=function(a){a&&(b=$.extend({},c,a))},this.executeClip=function(c){if(HZ.data.CurrentSessionUser){var d=$(c).parents(".clipContainer").find(".hz-clips").text(),e=d==b.unclipTitle;e?a(b.unclipAction,c):a(b.clipAction,c)}else HZ.auth?HZ.auth.Manager.signup(HZ.ajaz.Clipping.SOURCE_LINK_CLIPPING,null,window.location.href):window.location.href=b.clipRedirectLink}};

window.hzmr.push("clipping:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End clipping.js  **************/
/************* Start extracting text for profileUtils.js for locale sv-SE **************/
(function(){var _hzxt={"Your changes have not been saved yet!":"Dina \u00e4ndringar har inte sparats.","Save and Exit":"Spara och avsluta","Done Editing":"Redigeringen \u00e4r f\u00e4rdig","Click to confirm":"Klicka f\u00f6r att bekr\u00e4fta","Contacting pros on Houzz is reserved for personal project inquiries only. I confirm this is not a promotional message or solicitation":"Experter p\u00e5 Houzz kan endast kontaktas f\u00f6r personliga projektf\u00f6rfr\u00e5gningar. Jag bekr\u00e4ftar att det h\u00e4r inte \u00e4r ett marknadsf\u00f6ringsmeddelande eller -erbjudande.","Houzz project inquiry from {senderName}":"Projektf\u00f6rfr\u00e5gan p\u00e5 Houzz fr\u00e5n {senderName}","Houzz project inquiry":"Projektf\u00f6rfr\u00e5gan p\u00e5 Houzz"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for profileUtils.js  **************/
/************* Start profileUtils.js for locale sv-SE **************/
try {HZ.ns("HZ.profileUtils"),HZ.profileUtils.SaveAndExit=new function(){function a(){$(".profile-action-button").off("click").find("span").text(_hgt("Done Editing")),$(window).unbind("beforeunload")}function b(){$("form.withSaveAndExit").find("input,textarea").on("input",function(a){d(a)}).on("change",function(a){d(a)}).on("focus",function(a){c(a)}).end().find("select").on("change",function(a){d(a)}).on("focus",function(a){c(a)})}function c(a){var b=$(a.target);"undefined"==typeof e[b.attr("name")]&&(e[b.attr("name")]=b.val())}function d(b){$(".profile-action-button").find("span").text(_hgt("Save and Exit")).end().off("click").on("click",function(a){a.preventDefault(),$(window).unbind("beforeunload"),$('[name="saveAndExit"]').val(!0).parents("form").submit()}),$("form.withSaveAndExit .hzBtn.primary, form.withSaveAndExit #updateBtn, form.withSaveAndExit #continueBtn").on("click",function(b){a()}),$(window).unbind("beforeunload").bind("beforeunload",function(a){var b=!0;for(var c in e){var d=$('[name="'+c+'"]').val();b=d===e[c]?!1:!0}return b?_hgt("Your changes have not been saved yet!"):void 0})}var e={};this.init=function(a){a?setTimeout(b,a):b()},this.resetSaveAndExit=function(){a()}},HZ.profileUtils.ProType=new function(){this.fixProTypes=function(){var a=window.location.hash;a=a.replace("#","");var b=HZ.data.ProfessionalTypes.get(a);if(b){b=$("<div/>").text(b).html();var c=$("#firstProfessionalType").html(),d=$("#moreProfessionalTypes").html(),e=d.replace(b,c);e!=d&&($("#firstProfessionalType").html(b),$("#moreProfessionalTypes").html(e))}}},HZ.profileUtils.ContactUser=new function(){var a="",b="",c="",d="";this.init=function(e){a=e.userDisplayName,b=e.userName,c=e.senderName,d=e.fromEmail},this.showSendEmailDialog=function(){HZ.dialogs.ContactProDialog||(HZ.dialogs.ContactProDialog=new HZ.email.ContactProDialog),HZ.dialogs.ContactProDialog.prepare({toUserName:b,toUserDisplayName:a,subject:_hgt("Houzz message from {senderName}",{senderName:c}),message:"",type:HZ.sendEmail.types.USER}),HZ.ui.Yamdi.show(HZ.dialogs.ContactProDialog)}},HZ.profileUtils.ContactPro=new function(){var a=0,b="",c="",d="",e="",f=!1,g=null,h=null;this.init=function(g){a=g.sessionType,b=g.userDisplayName,c=g.userName,d=g.senderName,e=g.fromEmail,f=g.isShortForm},this.setMultipleLocationsData=function(a){g=a},this.setDefaultEmailToPopulate=function(a){h=a},this.showSendEmailDialog=function(i){HZ.dialogs.ContactProDialog||(HZ.dialogs.ContactProDialog=new HZ.email.ContactProDialog),0!=a?i?HZ.ui.yamdi.Common.confirm("",_hgt("Contacting pros on Houzz is reserved for personal project inquiries only. I confirm this is not a promotional message or solicitation"),_hgt("Click to confirm")+" >>",function(){HZ.ui.yamdi.Common.hideAllDialogs(),HZ.dialogs.ContactProDialog.prepare({toUserName:c,toUserDisplayName:b,locationData:g,defaultEmailToPopulate:h,subject:_hgt("Houzz project inquiry from {senderName}",{senderName:d}),message:"",fromEmail:e,isShortForm:f}),HZ.ui.Yamdi.show(HZ.dialogs.ContactProDialog)}):(HZ.dialogs.ContactProDialog.prepare({toUserName:c,toUserDisplayName:b,locationData:g,defaultEmailToPopulate:h,subject:_hgt("Houzz project inquiry from {senderName}",{senderName:d}),message:"",isShortForm:f}),HZ.ui.Yamdi.show(HZ.dialogs.ContactProDialog)):(HZ.dialogs.GuestContactProDialog||(HZ.dialogs.GuestContactProDialog=new HZ.email.GuestContactProDialog),HZ.dialogs.GuestContactProDialog.prepare({toUserName:c,toUserDisplayName:b,locationData:g,defaultEmailToPopulate:h,subject:_hgt("Houzz project inquiry"),message:"",isShortForm:f}),HZ.ui.Yamdi.show(HZ.dialogs.GuestContactProDialog))}};

window.hzmr.push("profileUtils:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End profileUtils.js  **************/
/************* Start extracting text for contactDialog.js for locale sv-SE **************/
(function(){var _hzxt={"Please enter at least one valid email address":"Ange minst en giltig e-mailadress","Enter your zip code (required)":"Ange ditt postnummer (obligatoriskt)","Enter your contact phone number (required)":"Ange ditt telefonnummer (obligatoriskt)","Main Location":"Huvudst\u00e4lle","Go to <t1>{galleryName}<\/t1>.":"G\u00e5 till <t1>{galleryName}<\/t1>.","Contact {pro}":"Kontakta {pro}","Show <t1>{idea}<\/t1> to friends and family.":"Visa <t1>{idea}<\/t1> till v\u00e4nner och familj.","Great Choice!":"Bra val!","I love this @{mft} Paint color palette! Create your own @Houzz":"Jag \u00e4lskar den h\u00e4r @{mft} f\u00e4rgpalett! Skapa din egen p\u00e5 @Houzz","Saved!":"Sparad!","Send message error!":"Skicka felmeddelande!","The colors displayed on-screen may not match %mft% color standards":"F\u00e4rgerna p\u00e5 sk\u00e4rmen matchar kanske inte f\u00e4rgstandarderna till %mft%","Zip Code":"Postnummer","Enter your zip code":"Ange ditt postnummer","Project Location: {zipCode}":"Projektets l\u00e4ge: {zipCode}","Email{contextEmailNoun}":"E-mail{contextEmailVerb}","or email this to a friend":"eller skicka i ett e-mail till en v\u00e4n","Share color palette":"Dela f\u00e4rgpalett","Phone #":"Telefonnummer","Update your Gmail contact list to lookup your recently emailed friends by name.  Houzz will not use your contact list to send any messages other than those directed by you.":"Uppdatera din Gmail-kontaktlista f\u00f6r att efter namn s\u00f6ka de v\u00e4nner du har skickat e-mail till p\u00e5 sistone. Houzz kommer inte att anv\u00e4nda din kontaktlista f\u00f6r att skicka andra meddelanden \u00e4n de som du v\u00e4ljer att skicka.","Import my Gmail contact list":"Importera min Gmail-kontaktlista","Update my Gmail contact list":"Uppdatera min Gmail-kontaktlista","By importing your Gmail contact list, you can look up your friends by name and auto-complete their email addresses when you send them messages.  Houzz will not use your contact list to send any messages other than those directed by you.":"Om du importerar din Gmail-kontaktlista kan du s\u00f6ka efter dina v\u00e4nner med namn och ladda deras e-maildresser automatiskt innan du skickar e-mail till dem. Houzz kommer inte att anv\u00e4nda din kontaktlista f\u00f6r att skicka andra meddelanden \u00e4n de som du v\u00e4ljer att skicka.","<t1>Import my Gmail contact list<\/t1>&nbsp;(<t2>why?<\/t2>)":"<t1>Importera min Gmail-kontaktlista<\/t1>&nbsp;(<t2>varf\u00f6r?<\/t2>)","To (enter recipient emails, separated by commas):":"Till (ange mottagarnas e-mailadresser, separerade med kommatecken):","Loading...":"Laddar \u2026","{emailSubject} from {senderEmailAddress}":"{emailSubject} fr\u00e5n {senderEmailAddress}","Enter your email":"Ange din e-mailadress","Project Location: {location}":"Projektets l\u00e4ge: {location}","Contact Phone Number: {phoneNumber}":"Kontaktnummer: {phoneNumber}","I confirm this is a personal project inquiry and not a promotional message or solicitation.":"Jag bekr\u00e4ftar att den h\u00e4r projektf\u00f6rfr\u00e5gan avser privat bruk och inte utg\u00f6r ett marknadsf\u00f6ringsmeddelande eller -erbjudande.","Enter your city, state":"Ange din ort","Enter your contact phone number":"Ange ditt telefonnummer","Enter your message here":"Skriv ditt meddelande h\u00e4r","Enter subject":"Ange \u00e4mne","Subject":"\u00c4mne","To (enter recipient emails, separated by commas)":"Till (ange mottagarnas e-mailadresser, separerade med kommatecken)","Send a Message":"Skicka ett meddelande","Send":"Skicka","Cancel":"Avbryt","Location":"Plats","Email":"E-mail","Message":"Meddelande","From":"Fr\u00e5n","To":"Till","Attach Images":"L\u00e4gg till bilder","Phone Number":"Telefonnummer","To:":"Till:"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for contactDialog.js  **************/
/************* Start contactDialog.js for locale sv-SE **************/
try {HZ.ns("HZ.email"),HZ.email.ContactDialog=function(){var a,b,c,d,e,f,g;this.attachUploadInitialized=!1,this.applySettings=function(a){g=a},this.getSettings=function(){return g},this.getToFld=function(){return a},this.getSubjectFld=function(){return b},this.getMessageFld=function(){return c},this.getEmailFld=function(){return d},this.getSendBtn=function(){return f},this.getCancelBtn=function(){return e};var h=function(){HZ.ui.AjaxThrobber.setInCall(!1),HZ.ui.Yamdi.hide(this)},i=function(){if(g.allowShare){if(HZ.ui.AjaxThrobber.setInCall(!0),HZ.ui.InputButtonUtils.disableButton(f),this.getForm().trigger("beforeSubmit.email"),k.call(this)){var c=a.val(),e=b.val(),h=this.getMessageBody(),i=g.event?g.event:"",l=this.getSettings().generateColorPaletteImageLink,m=this.getSettings().colorPaletteShareLink;return HZ.ajaz.Services.sendShareEmail(c,e,h,g.type,g.referenceId,i,l,m,$.proxy(j,this)),!1}}else if(d.length){if(HZ.ui.AjaxThrobber.setInCall(!0),HZ.ui.InputButtonUtils.disableButton(f),this.getForm().trigger("beforeSubmit.email"),k.call(this)){var n=a.val(),o=d.val(),e=b.val(),h=this.getMessageBody(),i=g.event?g.event:"",p="undefined"!=typeof grecaptcha?grecaptcha.getResponse():"",q=g.isDealerLocationEmail;return q?HZ.ajaz.Services.sendGuestEmail(o,n,e,h,g.type,g.referenceId,g.replyToId,i,p,!0,$.proxy(j,this)):HZ.ajaz.Services.sendGuestEmail(o,n,e,h,g.type,g.referenceId,g.replyToId,i,p,null,$.proxy(j,this)),!1}}else if(HZ.ui.AjaxThrobber.setInCall(!0),HZ.ui.InputButtonUtils.disableButton(f),this.getForm().trigger("beforeSubmit.email"),k.call(this)){var n=a.val(),e=b.val(),h=this.getMessageBody(),i=g.event?g.event:"",r=g.maxAttachmentFiles?this.getForm():null,q=g.isDealerLocationEmail;return q?HZ.ajaz.Services.sendEmail(n,e,h,g.type,g.referenceId,g.replyToId,i,r,!0,$.proxy(j,this)):HZ.ajaz.Services.sendEmail(n,e,h,g.type,g.referenceId,g.replyToId,i,r,null,$.proxy(j,this)),!1}},j=function(a){var b="";if(HZ.ui.AjaxThrobber.setInCall(!1),"true"==a.success)this.onSubmitSuccess&&"function"==typeof this.onSubmitSuccess&&this.onSubmitSuccess.call(this),b=g.type==HZ.sendEmail.types.PRO||g.type==HZ.sendEmail.types.PRO_REPLY||g.type==HZ.sendEmail.types.MP||g.type==HZ.sendEmail.types.MP_SELLER||g.type==HZ.sendEmail.types.MP_BUYER||g.type==HZ.sendEmail.types.USER||g.type==HZ.sendEmail.types.USER_REPLY?HZ.sendEmail.texts.CONFIRM_MESSAGE_SENT:HZ.sendEmail.texts.CONFIRM_EMAIL_SENT,HZ.ui.yamdi.Common.hideAllDialogs(),HZ.ui.yamdi.Common.alert("",b);else{if(a.error==HZ.ajaz.Services.sendEmail.ERROR_RECOVERABLE)return"function"==typeof onRecaptchaLoadCallback&&onRecaptchaLoadCallback(),void this.showError(a.errorMessage);HZ.ui.yamdi.Common.hideAllDialogs(),HZ.ui.yamdi.Common.alert(_hgt("Send message error!"),a.errorMessage)}},k=function(){var c=a.val(),d=b.val(),e=this.getMessageBody();return""==$.trim(c)?(this.showError(HZ.sendEmail.texts.ERROR_EMAIL_ADDRESSES_EMPTY),!1):""==$.trim(d)?(this.showError(HZ.sendEmail.texts.ERROR_SUBJECT_EMPTY),!1):""==$.trim(e)?(this.showError(HZ.sendEmail.texts.ERROR_MESSAGE_EMPTY),!1):this.validateMore&&"function"==typeof this.validateMore&&!this.validateMore.call(this)?!1:!0};this.showError=function(a){this.showStatus(a),HZ.ui.AjaxThrobber.setInCall(!1),HZ.ui.InputButtonUtils.enableButton(f)},function(){var g="contactDialog";this.DIALOG_CLASSNAME&&(g=this.DIALOG_CLASSNAME);var j=_hgt("Send a Message");this.DIALOG_TITLE&&(j=this.DIALOG_TITLE);var k=$(this.FORM_TEMPLATE);e=HZ.ui.InputButtonUtils.createSecondaryInputButton(_hgt("Cancel"),"hzContactDlgCancelBtn",$.proxy(h,this),null,null,"trackMe","compId='contactDlgCancel'"),f=HZ.ui.InputButtonUtils.createPrimaryInputButton(_hgt("Send"),"hzContactDlgSendBtn",null,!0,null,"trackMe","compId='contactDlgSend'");var l={title:j,body:k,controls:[HZ.ui.AjaxThrobber.getThrobber(),e,f],dialogClassName:g,onViewLoaded:$.proxy(this.onViewLoaded,this),onViewUnloaded:$.proxy(this.onViewUnloaded,this)};HZ.email.ContactDialog.superclass.constructor.call(this),this.init(l);var m=this.getForm();a=m.find(".hz-toFld"),b=m.find(".hz-subjectFld"),c=m.find(".hz-messageFld"),d=m.find(".hz-emailFld"),m.find("[placeholder]").initPlaceHolders({saveEvent:"beforeSubmit.email"}),m.bind("submit",$.proxy(i,this))}.call(this)},HZ.extend(HZ.email.ContactDialog,HZ.ui.yamdi.Dialog),$.extend(!0,HZ.email.ContactDialog.prototype,{DEFAULT_OPTIONS:{type:null,referenceId:null,toUserName:"",subject:"",message:"",replyToId:null,event:null,maxAttachmentFiles:0},ATTACH_BUTTON_TEMPLATE:'<a class="hzBtn noFrameButton addImageButton" href="javascript:;" title="%buttonTitle%"><span class="button-icon buttonIconAttach"></span><span class="text-m text-dt-s label colorLink">%buttonTitle%</span></a>',ATTACH_TEMPLATE:'<div class="hz-attach"><input type="file" name="attach1" accept="image/*" class="span-sm-6"/><input type="file" name="attach2" accept="image/*" class="span-sm-6"/><input type="file" name="attach3" accept="image/*" class="span-sm-6"/><input type="file" name="attach4" accept="image/*" class="span-sm-6"/></div>',FORM_TEMPLATE:'<fieldset class="row-fluid"><label>'+_hgt("To (enter recipient emails, separated by commas)")+'</label><textarea type="text" class="hz-toFld span-xs-12 form-control" rows="2"/><label>'+_hgt("Subject")+'</label><input type="text" class="hz-subjectFld span-xs-12 form-control" value="" placeholder="'+_hgt("Enter subject")+'"/><label>'+_hgt("Message")+'</label><textarea rows="5" class="hz-messageFld span-xs-12 form-control" placeholder="'+_hgt("Enter your message here")+'"/></fieldset>',validateMore:function(){return!0},getMessageBody:function(){return this.getMessageFld().val()},onSubmitSuccess:null,prepare:function(a){var b,c=this;if(this.applySettings($.extend(!0,{},this.DEFAULT_OPTIONS,a)),b=this.getSettings(),this.getToFld().val(b.toUserName),this.getSubjectFld().val(b.subject),this.getMessageFld().val(b.message),b.maxAttachmentFiles)if(this.attachUploadInitialized){if(!this.getForm().find(".addImageButton").length){var d=$(HZ.utils.Html.template(this.ATTACH_BUTTON_TEMPLATE,{buttonTitle:_hgt("Attach Images")}));d.insertAfter(this.getMessageFld()),c.enableAttachment()}}else{var d=$(HZ.utils.Html.template(this.ATTACH_BUTTON_TEMPLATE,{buttonTitle:_hgt("Attach Images")}));d.insertAfter(this.getMessageFld()),HZ.utils.ResourceLoader.requireResources([{type:HZ.utils.ResourceLoader.JS,file:"jquery.form.min"}],function(){c.enableAttachment()})}else c.disableAttachment()},enableAttachment:function(){var a=this.getForm().find(".hz-attach"),b=this;if(0===a.length){var c=this.getForm().find(".addImageButton");a=$(this.ATTACH_TEMPLATE).insertAfter(c),c.on("click",function(){a.is(":visible")||(a.show(),UIHelper.isMSIE||a.find("input:first").click(),b.recenter())})}this.attachUploadInitialized=!0},disableAttachment:function(){var a=this.getForm().find(".addImageButton, .hz-attach");a.length&&a.remove()},onViewLoaded:function(){HZ.ui.InputButtonUtils.enableButton(this.getSendBtn()),this.getForm().find("[placeholder]").initPlaceHolders("refresh")},onViewUnloaded:function(){this.resetForm(),this.getForm().find(".hz-attach").hide(),this.hideStatus()}}),HZ.email.ContactProDialog=function(){var a={type:HZ.sendEmail.types.PRO};this.DEFAULT_OPTIONS={toUserName:"",toUserDisplayName:"",subject:"",message:"",useZipCode:!1,isShortForm:!1};var b,c;HZ.utils.Config.requirePhoneToContactPro?(b=_hgt("Enter your zip code (required)"),c=_hgt("Enter your contact phone number (required)")):(b=_hgt("Enter your zip code"),c=_hgt("Enter your contact phone number")),this.FORM_TEMPLATE='<fieldset class="row-fluid"><div class="control-group fromDisplayEmailGrp"><label class="control-label">'+_hgt("From")+'</label><div class="controls"></div></div><div class="control-group" id="toUserNameField"><label class="control-label">'+_hgt("To")+'</label><div class="controls toDisplayName"></div><input type="hidden" class="hz-toFld" value=""/></div><div class="control-group" id="subjectField"><label class="control-label">'+_hgt("Subject")+'</label><div class="controls"><input type="text" class="hz-subjectFld span-xs-12 form-control" value="" placeholder="'+_hgt("Enter subject")+'"/></div></div><div class="control-group phoneFldGrp"><label class="control-label phone-label">'+_hgt("Phone Number")+'</label><div class="controls"><input type="text" class="span-xs-12 form-control" value="" placeholder="'+c+'"/></div></div><div class="control-group locationFldGrp"><label class="control-label location-label">'+_hgt("Location")+'</label><div class="controls"><input type="text" class="span-xs-12 form-control" value="" placeholder="'+_hgt("Enter your city, state")+'"/></div></div><div class="control-group zipFldGrp"><label class="control-label zip-label">'+_hgt("Zip Code")+'</label><div class="controls"><input type="text" class="span-xs-12 form-control" value="" placeholder="'+b+'"/></div></div><div class="control-group dealerFldGrp mbs"><label class="control-label dealer-label">'+_hgt("To:")+'</label><div class="controls"><select class="form-control dealer-select"></select></div></div><div class="control-group"><label class="control-label">'+_hgt("Message")+'</label><div class="controls"><textarea class="hz-messageFld span-xs-12 form-control" rows="4" value="" placeholder="'+_hgt("Enter your message here")+'"/></div></div><div class="proMessageDisclaimer"><label class="checkbox"><input type="checkbox" class="confirmProMessage"/>'+_hgt("I confirm this is a personal project inquiry and not a promotional message or solicitation.")+"</label></div></fieldset>",this.prepare=function(b){var c=$.extend(!0,{},a,this.DEFAULT_OPTIONS,b),d=this.getForm();c.useZipCode=HZ.utils.Config.zipCodeTestEnabled,HZ.email.ContactProDialog.superclass.prepare.call(this,c),$(d).attr("scopeId","ContactProDialog"),d.find(".toDisplayName").html(c.toUserDisplayName);var e="";HZ.data.CurrentSessionUser&&c.type!=HZ.sendEmail.types.MP&&c.type!=HZ.sendEmail.types.USER&&c.type!=HZ.sendEmail.types.USER_REPLY?(d.find(".fromDisplayEmailGrp").show(),e=HZ.data.CurrentSessionUser.getEmailAddress(),e?d.find(".fromDisplayEmailGrp").find(".controls").html(e):HZ.ajaz.Services.User.getCurrentSessionUserEmail(function(a){"true"==a.success&&a.userEmail&&(HZ.data.CurrentSessionUser.setEmailAddress(a.userEmail),d.find(".fromDisplayEmailGrp").find(".controls").html(a.userEmail))})):d.find(".fromDisplayEmailGrp").hide(),c.type==HZ.sendEmail.types.PRO_REPLY||c.type==HZ.sendEmail.types.MP||c.type==HZ.sendEmail.types.USER||c.type==HZ.sendEmail.types.USER_REPLY?(d.find(".proMessageDisclaimer").hide(),d.find(".phoneFldGrp").hide(),d.find(".locationFldGrp").hide(),d.find(".zipFldGrp").hide()):(d.find(".proMessageDisclaimer").show(),d.find(".phoneFldGrp").show(),c.useZipCode?d.find(".locationFldGrp").hide():d.find(".zipFldGrp").hide(),c.isShortForm&&(d.find("#toUserNameField").hide(),d.find("#subjectField").hide(),d.find(".phone-label").hide(),d.find(".location-label").hide(),d.find(".zip-label").hide(),d.find(".modal-header").html(_hgt("Contact {pro}",{pro:c.toUserDisplayName}))));var f=this;if(c.locationData&&c.locationData.length&&c.type==HZ.sendEmail.types.PRO){var g=$.map(c.locationData,function(a){return a.email?a:void 0}).length;if(g){var h=d.find(".dealer-select");h.empty(),h.append($("<option value='"+c.toUserName+"'>"+c.toUserDisplayName+" ("+_hgt("Main Location")+")</option>"));for(var i=0;i<c.locationData.length;i++){var j=c.locationData[i],k=$("<option>");j.email&&(k.attr("value",j.email),j.dealerName?k.text(j.dealerName):k.text(j.email),h.append(k),0==i&&h.val(k.val()),j.email==c.defaultEmailToPopulate&&h.val(k.val()))}var l=function(){f.getToFld().val(h.val()),h.val()==c.toUserName?delete f.getSettings().isDealerLocationEmail:f.getSettings().isDealerLocationEmail=!0};h.on("change",l),l()}else d.find(".dealerFldGrp").hide()}else d.find(".dealerFldGrp").hide()},this.validateMore=function(){var a=this.getForm(),b=a.find(".confirmProMessage");if(""==$.trim(this.getMessageFld().val()))return this.showError(HZ.sendEmail.texts.ERROR_MESSAGE_EMPTY),!1;if(b.is(":visible")&&b.is(":not(:checked)"))return this.showError(HZ.sendEmail.texts.ERROR_PRO_CONFIRM_INQUIRY_NOT_AGREE),!1;if(HZ.utils.Config.requirePhoneToContactPro&&a.find(".phoneFldGrp").is(":visible")&&a.find(".zipFldGrp").is(":visible")){var c=a.find(".phoneFldGrp .controls input").val(),d=a.find(".zipFldGrp .controls input").val();if(!c)return this.showError(HZ.sendEmail.texts.ERROR_NO_PHONE),!1;if(!d)return this.showError(HZ.sendEmail.texts.ERROR_NO_ZIP),!1}return!0},this.getMessageBody=function(){var a=this.getSettings(),b=this.getForm(),c="";if(b.find(".phoneFldGrp").is(":visible")){var d=b.find(".phoneFldGrp .controls input").val(),e=b.find(".locationFldGrp .controls input").val(),f="[zip]"+b.find(".zipFldGrp .controls input").val()+"[/zip]";""!=$.trim(d)&&(c=_hgt("Contact Phone Number: {phoneNumber}",{phoneNumber:d})+"\n"),a.useZipCode?""!=$.trim(f)&&(c=c+_hgt("Project Location: {zipCode}",{zipCode:f})+"\n"):""!=$.trim(e)&&(c=c+_hgt("Project Location: {location}",{location:e})+"\n"),""!=$.trim(c)&&(c+="\n")}return c+=this.getMessageFld().val()},this.onSubmitSuccess=function(){_gaq.push(["_trackEvent","ContactProDialog","contactSuccess"]);var a=this.getSettings(),b={hasaccount:HZ.data.CurrentSessionUser?"y":"n",pro_username:a.toUserName};HZ.utils.Gtm.pushData("pro_contact","pro_contact",b)},function(){HZ.email.ContactProDialog.superclass.constructor.call(this)}.call(this)},HZ.extend(HZ.email.ContactProDialog,HZ.email.ContactDialog),HZ.email.GuestContactProDialog=function(){var a={type:HZ.sendEmail.types.PRO};this.DEFAULT_OPTIONS={toUserName:"",toUserDisplayName:"",subject:"",message:"",useZipCode:!1,isShortForm:!1},this.FORM_TEMPLATE='<fieldset class="row-fluid condensed-layout"><input type="hidden" class="hz-toFld" value=""/><input type="hidden" class="hz-subjectFld" value="" placeholder="'+_hgt("Enter subject")+'"/><div class="control-group"><label class="control-label">'+_hgt("Email{contextEmailNoun}",{contextEmailNoun:""})+'</label><div class="controls"><input type="text" class="hz-emailFld span-xs-12" value="" placeholder="'+_hgt("Enter your email")+'"/></div><div style="clear:both;"></div></div><div class="control-group phoneFldGrp"><label class="control-label phone-label">'+_hgt("Phone #")+'</label><div class="controls"><input type="text" class="span-xs-12" value="" placeholder="'+_hgt("Enter your contact phone number")+'"/></div><div style="clear:both;"></div></div><div class="control-group locationFldGrp"><label class="control-label location-label">'+_hgt("Location")+'</label><div class="controls"><input class="span-xs-12" type="text" value="" placeholder="'+_hgt("Enter your city, state")+'"/></div><div style="clear:both;"></div></div><div class="control-group zipFldGrp"><label class="control-label zip-label">'+_hgt("Zip Code")+'</label><div class="controls"><input class="span-xs-12" type="text" value="" placeholder="'+_hgt("Enter your zip code")+'"/></div><div style="clear:both;"></div></div><div class="control-group dealerFldGrp mbs"><label class="control-label dealer-label">'+_hgt("To:")+'</label><div class="controls"><select class="form-control dealer-select"></select></div></div><div class="control-group"><label class="control-label">'+_hgt("Message")+'</label><div class="controls"><textarea rows="4" value="" class="form-control hz-messageFld span-xs-12" placeholder="'+_hgt("Enter your message here")+'"/></div><div style="clear:both;"></div></div><div id="recaptchaDiv"></div><div class="proMessageDisclaimer control-group"><div class="controls"><label class="checkbox"><input type="checkbox" class="confirmProMessage"/>'+_hgt("I confirm this is a personal project inquiry and not a promotional message or solicitation.")+"</label></div></div></fieldset>",this.prepare=function(b){var c=$.extend(!0,{},a,this.DEFAULT_OPTIONS,b),d=this.getForm();c.useZipCode=HZ.utils.Config.zipCodeTestEnabled,c.isShortForm&&(this.DIALOG_TITLE=_hgt("Contact {pro}",{pro:c.toUserDisplayName})),HZ.email.GuestContactProDialog.superclass.prepare.call(this,c),$(d).attr("scopeId","GuestContactProDialog"),d.find(".toDisplayName").html(c.toUserDisplayName),c.type==HZ.sendEmail.types.PRO_REPLY||c.type==HZ.sendEmail.types.MP?d.find(".proMessageDisclaimer").hide():d.find(".proMessageDisclaimer").show(),c.useZipCode?d.find(".locationFldGrp").hide():d.find(".zipFldGrp").hide(),c.isShortForm&&(d.find(".row-fluid.condensed-layout").removeClass("condensed-layout"),d.find(".phone-label").hide(),d.find(".location-label").hide(),d.find(".zip-label").hide(),d.find(".modal-header").html(_hgt("Contact {pro}",{pro:c.toUserDisplayName})));var e=this;if(c.type==HZ.sendEmail.types.PRO)if(c.locationData&&c.locationData.length){var f=$.map(c.locationData,function(a){return a.email?a:void 0}).length;if(f){var g=d.find(".dealer-select");g.empty(),g.append($("<option value='"+c.toUserName+"'>"+c.toUserDisplayName+" ("+_hgt("Main Location")+")</option>"));for(var h=0;h<c.locationData.length;h++){var i=c.locationData[h],j=$("<option>");i.email&&(j.attr("value",i.email),i.dealerName?j.text(i.dealerName):j.text(i.email),g.append(j),0==h&&g.val(j.val()),i.email==c.defaultEmailToPopulate&&g.val(j.val()))}var k=function(){e.getToFld().val(g.val()),g.val()==c.toUserName?delete e.getSettings().isDealerLocationEmail:e.getSettings().isDealerLocationEmail=!0};g.on("change",k),k()}else d.find(".dealerFldGrp").hide()}else d.find(".dealerFldGrp").hide()},onRecaptchaLoadCallback=function(){if("undefined"!=typeof grecaptcha){try{"undefined"!=typeof recaptchaWidgetId&&grecaptcha.reset(recaptchaWidgetId)}catch(a){}$("#recaptchaDiv").is(":empty")&&(recaptchaWidgetId=grecaptcha.render("recaptchaDiv",{sitekey:HZ.utils.Config.recaptchaPublicKey}))}},this.onViewLoaded=function(){"undefined"==typeof grecaptcha?$.getScript("https://www.google.com/recaptcha/api.js?onload=onRecaptchaLoadCallback&render=explicit&hl="+HZ.utils.Config.language):onRecaptchaLoadCallback()},this.onViewUnloaded=function(){"undefined"!=typeof grecaptcha&&grecaptcha.reset(recaptchaWidgetId)},this.validateMore=function(){var a=this.getForm(),b=a.find(".confirmProMessage"),c=a.find(".hz-emailFld").val();if(""==$.trim(this.getMessageFld().val()))return this.showError(HZ.sendEmail.texts.ERROR_MESSAGE_EMPTY),!1;if(b.is(":visible")&&b.is(":not(:checked)"))return this.showError(HZ.sendEmail.texts.ERROR_PRO_CONFIRM_INQUIRY_NOT_AGREE),!1;if(!UIHelper.validateEmail(c,!0))return this.showError(HZ.sendEmail.texts.ERROR_INVALID_FROM_EMAIL_ADDRESS),!1;var d=this.getSettings();return this.getSubjectFld().val(d.subject+" from "+c),this.getSubjectFld().val(_hgt("{emailSubject} from {senderEmailAddress}",{emailSubject:d.subject,senderEmailAddress:c})),!0},this.getMessageBody=function(){var a=this.getSettings(),b=this.getForm(),c=b.find(".phoneFldGrp .controls input").val(),d=b.find(".locationFldGrp .controls input").val(),e="[zip]"+b.find(".zipFldGrp .controls input").val()+"[/zip]",f="";return""!=$.trim(c)&&(f=_hgt("Contact Phone Number: {phoneNumber}",{phoneNumber:c})+"\n"),a.useZipCode?""!=$.trim(e)&&(f=f+_hgt("Project Location: {zipCode}",{zipCode:e})+"\n"):""!=$.trim(d)&&(f=f+_hgt("Project Location: {location}",{location:d})+"\n"),""!=$.trim(f)&&(f+="\n"),f+=this.getMessageFld().val()},this.onSubmitSuccess=function(){_gaq.push(["_trackEvent","GuestContactProDialog","contactSuccess"]);var a=this.getSettings(),b={hasaccount:HZ.data.CurrentSessionUser?"y":"n",pro_username:a.toUserName};HZ.utils.Gtm.pushData("pro_contact","pro_contact",b)},function(){HZ.email.GuestContactProDialog.superclass.constructor.call(this)}.call(this)},HZ.extend(HZ.email.GuestContactProDialog,HZ.email.ContactDialog),HZ.email.PostIdeabookConfirmContactProDialog=function(){var a={type:HZ.sendEmail.types.PRO};this.DEFAULT_OPTIONS={toUserName:"",toUserDisplayName:"",subject:"",message:"",useZipCode:!1},this.DIALOG_TITLE=_hgt("Saved!"),this.FORM_TEMPLATE="<div class='related-pros-info clearfix'><div id='proUpsellMsg' class='pro-screen-text'></div><div id='proInfo' class=''></div><div id='proContactForm' class=''><fieldset class=\"row-fluid\"><div class=\"control-group fromDisplayEmailGrp\"><label class=\"control-label\">"+_hgt("From")+'</label><div id="fromEmailField" class="controls"></div></div><div class="control-group" id="toUserNameField"><label class="control-label">'+_hgt("To")+'</label><div class="controls toDisplayName"></div><input type="hidden" class="hz-toFld" value=""/></div><div class="control-group" id="subjectField"><label class="control-label">'+_hgt("Subject")+'</label><div class="controls"><input type="text" class="hz-subjectFld span-xs-12 form-control" value="" placeholder="'+_hgt("Enter subject")+'"/></div></div><div class="control-group phoneFldGrp"><div class="controls" comp_id="phone"><input type="text" class="span-xs-12 form-control" value="" placeholder="'+_hgt("Enter your contact phone number")+'"/></div></div><div class="control-group zipFldGrp"><div class="controls" comp_id="zip"><input type="text" class="span-xs-12 form-control" value="" placeholder="'+_hgt("Enter your zip code")+'"/></div></div><div class="control-group"><label class="control-label">'+_hgt("Message")+'</label><div class="controls" comp_id="message"><textarea class="hz-messageFld span-xs-12 form-control" rows="4" value="" placeholder="'+_hgt("Enter your message here")+'"/></div></div><div class="proMessageDisclaimer"><label class="checkbox"><input type="checkbox" class="confirmProMessage"/>'+_hgt("I confirm this is a personal project inquiry and not a promotional message or solicitation.")+"</label></div></fieldset></div></div>",this.prepare=function(b){var c=$.extend(!0,{},a,this.DEFAULT_OPTIONS,b),d=this.getForm(),e="",f=_hgt("Go to <t1>{galleryName}</t1>.",{galleryName:c.galleryName,t1:{tag:"a",attr:{href:c.galleryUrl,"class":"colorLink trackMe",compId:"ideabook"}}});d.find(".modal-footer").prepend("<span id='goToIdeabook'>"+f+"</span>"),e+="<div class='pro-content-container' compId='pro_container'><div class='top-pro-cover'><a href='' class='trackMe'><img data-no-pin-hover='true' src='"+c.coverImageUrl+"' width='250' height='230'></a></div><div class='bottom-pro-details'><div id='proThumb' itemprop='image'><img data-no-pin-hover='true' class='photo hz-user-image' src='"+c.userThumbUrl+"' width='40' height='40'/></div><div id='textDetails'><div class='pro-name'><a class='trackMe' href='"+c.userLink+"'><b>"+c.toUserDisplayName+"</b></a></div>"+c.ratingHtml+"<b>"+c.shortDescription+"</b></div></div></div>",d.find("#proInfo").append(e),d.find("#proUpsellMsg").html(c.proUpsellMsg),c.useZipCode=HZ.utils.Config.zipCodeTestEnabled,HZ.email.ContactProDialog.superclass.prepare.call(this,c),$(d).attr("scopeId","IdeabookContactProDialog"),d.find(".toDisplayName").html(c.toUserDisplayName);var g="";HZ.data.CurrentSessionUser&&c.type!=HZ.sendEmail.types.MP&&c.type!=HZ.sendEmail.types.USER&&c.type!=HZ.sendEmail.types.USER_REPLY?(d.find(".fromDisplayEmailGrp").show(),g=HZ.data.CurrentSessionUser.getEmailAddress(),g?d.find(".fromDisplayEmailGrp").find(".controls").html(g):HZ.ajaz.Services.User.getCurrentSessionUserEmail(function(a){"true"==a.success&&a.userEmail&&(HZ.data.CurrentSessionUser.setEmailAddress(a.userEmail),d.find(".fromDisplayEmailGrp").find(".controls").html(a.userEmail))})):d.find(".fromDisplayEmailGrp").hide(),d.find("#toUserNameField").hide(),d.find("#subjectField").hide(),$(".modal-dialog").addClass("post-ideabook-save-pro-contact")},this.validateMore=function(){var a=this.getForm(),b=a.find(".confirmProMessage");return""==$.trim(this.getMessageFld().val())?(this.showError(HZ.sendEmail.texts.ERROR_MESSAGE_EMPTY),!1):b.is(":visible")&&b.is(":not(:checked)")?(this.showError(HZ.sendEmail.texts.ERROR_PRO_CONFIRM_INQUIRY_NOT_AGREE),!1):!0},this.getMessageBody=function(){var a=this.getSettings(),b=this.getForm(),c="";if(b.find(".phoneFldGrp").is(":visible")){var d=b.find(".phoneFldGrp .controls input").val(),e=b.find(".locationFldGrp .controls input").val(),f="[zip]"+b.find(".zipFldGrp .controls input").val()+"[/zip]";""!=$.trim(d)&&(c=_hgt("Contact Phone Number: {phoneNumber}",{phoneNumber:d})+"\n"),a.useZipCode?""!=$.trim(f)&&(c=c+_hgt("Project Location: {zipCode}",{zipCode:f})+"\n"):""!=$.trim(e)&&(c=c+_hgt("Project Location: {location}",{location:e})+"\n"),""!=$.trim(c)&&(c+="\n")}return c+=this.getMessageFld().val()},this.onSubmitSuccess=function(){_gaq.push(["_trackEvent","ContactProDialog","contactSuccess"])},function(){HZ.email.PostIdeabookConfirmContactProDialog.superclass.constructor.call(this)}.call(this)},HZ.extend(HZ.email.PostIdeabookConfirmContactProDialog,HZ.email.ContactDialog),HZ.email.EmailDialog=function(){function a(){if(!e){e=new HZ.ui.yamdi.Dialog;var a={dialogClassName:"contactsLoadingDlg",controls:[]};e.init(a);var b="",c='<div class="hzLoadingDlgThrobber"></div><div class="hzLoadingDlgMessage">'+_hgt("Loading...")+"</div>";e.setTitle(b),e.setBody(c)}}function b(b){a(),HZ.ui.Yamdi.switchDialog(e),HZ.utils.ResourceLoader.requireAddressBookResources(function(){HZ.addressBook.Contacts.load(b,function(){f=!0;var a=HZ.dialogs.EmailDialog;HZ.addressBook.Contacts.isUpsellRequired()&&(a=HZ.addressBook.Dialogs.getUpsellDialog(function(a){a?d():HZ.ui.Yamdi.switchDialog(HZ.dialogs.EmailDialog)})),HZ.ui.Yamdi.switchDialog(a)})})}function c(a){g||(a?($("#upsellTip").hover(function(){var a=h?_hgt("Update your Gmail contact list to lookup your recently emailed friends by name.  Houzz will not use your contact list to send any messages other than those directed by you."):_hgt("By importing your Gmail contact list, you can look up your friends by name and auto-complete their email addresses when you send them messages.  Houzz will not use your contact list to send any messages other than those directed by you.");$("#upsellTip").tipBubble({content:a,point:"north",width:200,position:"absolute",showCloseBtn:!1})},function(){$("#upsellTip").tipBubble("hide")}),$("#upsellLine a:first").click(function(){d()})):$("#upsellLine").css("display","none"),g=!0)}function d(){HZ.externalContacts.api.requestAuth(HZ.utils.Config.appTypeGoogle,HZ.ajaz.Contacts.GOOGLE_CONTACTS_SCOPE,function(a){b(!0)})}var e=null,f=!1,g=!1,h=!1,i=!1;this.DEFAULT_OPTIONS={type:null,referenceId:null,subject:"",message:"",event:HZ.sendEmail.events.BTN,useAddressBook:!0};var j={tag:"a",attr:{href:"javascript:;","class":"colorLink"}},k={tag:"a",attr:{id:"upsellTip",href:"javascript:;","class":"colorLink"}};this.FORM_TEMPLATE='<fieldset class="row-fluid"><label>'+_hgt("To (enter recipient emails, separated by commas):")+'</label><div id="emailDialogAddressBook"></div><textarea class="hz-toFld span-xs-12 form-control" rows="2" id="emailDialogEmailInput" /><div id="upsellLine">'+_hgt("<t1>Import my Gmail contact list</t1>&nbsp;(<t2>why?</t2>)",{t1:j,t2:k})+"</div><label>"+_hgt("Subject")+'</label><input type="text" class="hz-subjectFld span-xs-12" value="" placeholder="'+_hgt("Enter subject")+'"/><label>'+_hgt("Message")+'</label><textarea rows="5" class="form-control hz-messageFld span-xs-12" placeholder="'+_hgt("Enter your message here")+'"/></fieldset>',this.validateMore=function(){var a=this.getForm().find(".hz-toFld").val();return UIHelper.validateEmail(a,!0)?!0:(this.showError(HZ.sendEmail.texts.ERROR_INVALID_TO_EMAIL_ADDRESSES),!1)},this.prepare=function(a){HZ.email.EmailDialog.superclass.prepare.call(this,a);var b=this.getSettings();b.useAddressBook=b.useAddressBook&&HZ.utils.Config.emailShareAbImportEnabled,this.applySettings(b)},this.onViewUnloaded=function(){var a=this.getSettings();a.useAddressBook&&f&&i&&$("#emailDialogAddressBook").clearAddressBookInput(),$("#emailDialogEmailInput").val("")},this.onViewLoaded=function(){var a=this.getSettings();if(c(a.useAddressBook),a.useAddressBook&&!f)return void b(!1);if(HZ.email.EmailDialog.superclass.onViewLoaded.call(this),a.useAddressBook){var d=HZ.addressBook.Contacts.getContacts();h=d&&d.length>0,this.getSubjectFld().val(a.subject),this.getMessageFld().val(a.message),!i&&h?($("#emailDialogEmailInput").height("64px"),$("#emailDialogAddressBook").addressBook({input:$("#emailDialogEmailInput"),showAddressBook:!1}),i=!0,$("#emailDialogEmailInput_tag").focus()):this.getToFld().focus(),$("#upsellLine a:first").text(h?_hgt("Update my Gmail contact list"):_hgt("Import my Gmail contact list"))}else this.getToFld().focus()},function(){HZ.email.EmailDialog.superclass.constructor.call(this)}.call(this)},HZ.extend(HZ.email.EmailDialog,HZ.email.ContactDialog),HZ.ns("HZ.dialogs"),HZ.dialogs.EmailDialog=new HZ.email.EmailDialog,HZ.email.ShareColorPaletteDialog=function(){this.DEFAULT_OPTIONS={type:null,referenceId:null,subject:"",message:"",event:HZ.sendEmail.events.SHARECP,scopeId:"",allowShare:!0,mfr:"",colorPaletteShareLink:"",generateColorPaletteImageLink:""},this.DIALOG_CLASSNAME="shareColorPaletteDialog",this.DIALOG_TITLE=_hgt("Share color palette"),this.FORM_TEMPLATE="<div id='shareColorPaletteDialog' class='trackMe'><div class='mftDisclaimer'><i>"+_hgt("The colors displayed on-screen may not match %mft% color standards")+"</i></div><div class='socialShareBtnsContainer'><a href='javascript:;' compid='fbShare' class='fb-share' onclick='HZ.dialogs.ShareColorPaletteDialog.generateFbShareEvent();'><div class='socialShareBtn facebook'></div></a><a href='javascript:;' compid='twShare' class='tw-share' onclick='HZ.dialogs.ShareColorPaletteDialog.generateTwShareEvent();'><div class='socialShareBtn twitter'></div></a><a href='javascript:;' compid='gShare' class='g-share' onclick='HZ.dialogs.ShareColorPaletteDialog.generateGShareEvent();'><div class='socialShareBtn plusone'></div></a></div><div class='sectionDivider text-bold'><span><i>"+_hgt("or email this to a friend")+"</i></span></div><form id='emailColorPaletteForm' name='emailColorPaletteForm' action='javascript:;'><textarea type='text' rows='1' class='form-control hz-toFld' id='emailDialogEmailInput' placeholder='"+_hgt("To (enter recipient emails, separated by commas)")+"'></textarea><label>"+_hgt("Subject")+"</label><input type='text' class='hz-subjectFld' id='emailDialogSubjectInput'><label>"+_hgt("Message")+"</label><textarea class='form-control hz-messageFld' id='emailDialogMessageInput' rows='5'></textarea></form></div>",this.validateMore=function(){var a=this.getForm().find("#emailDialogEmailInput").val();return UIHelper.validateEmail(a,!0)?!0:(this.showError(HZ.sendEmail.texts.ERROR_INVALID_TO_EMAIL_ADDRESSES),!1)},this.prepare=function(a){HZ.email.ShareColorPaletteDialog.superclass.prepare.call(this,a);var b=this.getSettings();this.applySettings(b)},this.onViewUnloaded=function(){this.getSettings()},this.onViewLoaded=function(){var a=this.getSettings();$("#shareColorPaletteDialog").attr("objid",a.referenceId).attr("scopeid",a.scopeId);var b=$(".mftDisclaimer i").html().replace("%mft%",this.getPaletteManufacturer());$(".mftDisclaimer i").html(b),HZ.email.ShareColorPaletteDialog.superclass.onViewLoaded.call(this),this.getToFld().focus()},this.getPaletteManufacturer=function(){return HZ.utils.ColorPicker.getPaintManufacturerDisplayName(this.getSettings().mfr)},this.generateFbShareEvent=function(){var a=this.getSettings(),b=611,c=368,d=encodeURIComponent(a.colorPaletteShareLink),e="https://www.facebook.com/sharer/sharer.php?u="+d,f=HZ.ui.Utils.getCenteredPopupPosition(b,c);window.open(e,"fbwindow","width="+b+", height="+c+", left="+f.left+", top="+f.top+", toolbar=0, location=0, menubar=0, scrollbars=0")},this.generateTwShareEvent=function(){var a=this.getSettings(),b=550,c=380,d=_hgt("I love this @{mft} Paint color palette! Create your own @Houzz",{mft:this.getPaletteManufacturer()}),e=encodeURIComponent(d),f=encodeURIComponent(a.colorPaletteShareLink),g="https://twitter.com/share?url="+f+"&text="+e,h=HZ.ui.Utils.getCenteredPopupPosition(b,c);window.open(g,"fbwindow","width="+b+", height="+c+", left="+h.left+", top="+h.top+", toolbar=0, location=0, menubar=0, scrollbars=0")},this.generateGShareEvent=function(){var a=this.getSettings(),b=600,c=600,d=encodeURIComponent(a.colorPaletteShareLink),e="https://plus.google.com/share?url="+d,f=HZ.ui.Utils.getCenteredPopupPosition(b,c);
window.open(e,"fbwindow","width="+b+", height="+c+", left="+f.left+", top="+f.top+", toolbar=0, location=0, menubar=0, scrollbars=1, resizeable=1")},function(){HZ.email.ShareColorPaletteDialog.superclass.constructor.call(this)}.call(this)},HZ.extend(HZ.email.ShareColorPaletteDialog,HZ.email.ContactDialog),HZ.email.PostIdeabookSaveShareEmail=function(){this.DEFAULT_OPTIONS={type:null,referenceId:null,imageTag:null,galleryTitle:null,galleryUrl:null,subject:"",message:"",event:"",scopeId:"",allowShare:!1},this.DIALOG_CLASSNAME="postIdeabookSaveShareEmailDialog",this.DIALOG_TITLE=_hgt("Great Choice!"),this.FORM_TEMPLATE="<div id='shareEmailDialog' class='trackMe'><div class='addToIdeabookInfo'><div id='shareEmailConfirmImage' class='addToIdeabookImage'></div></div><div id='emailFormContainer'><form id='shareEmailForm' name='shareEmailForm' action='javascript:;'><div id='shareEmailCTA' class='sectionDivider text-bold'></div><div class='sectionDivider'><input type='hidden' class='hz-toFld' id='emailDialogEmailInput0'><input type='text' class='' id='emailDialogEmailInput1' placeholder='"+_hgt("Email")+"'></div><div class='sectionDivider'><input type='text' class='' id='emailDialogEmailInput2' placeholder='"+_hgt("Email")+"'></div><div class='sectionDivider'><input type='text' class='' id='emailDialogEmailInput3' placeholder='"+_hgt("Email")+"'></div><input type='hidden' class='hz-subjectFld' id='emailDialogSubjectInput'><textarea class='hz-messageFld' id='emailDialogMessageInput' rows='5' style='display:none;'></textarea></form></div><div style='clear:both;'></div></div>",this.validateMore=function(){var a=this.getForm().find("#emailDialogEmailInput1").val(),b=this.getForm().find("#emailDialogEmailInput2").val(),c=this.getForm().find("#emailDialogEmailInput3").val(),d=(a?a:"")+(b?","+b:"")+(c?","+c:"");return UIHelper.validateEmail(d,!0)?!0:(this.showError(_hgt("Please enter at least one valid email address")),!1)},this.prepare=function(a){HZ.email.PostIdeabookSaveShareEmail.superclass.prepare.call(this,a);var b=this.getSettings();this.applySettings(b)},this.onViewUnloaded=function(){this.getSettings();$("#emailDialogEmailInput1").empty(),$("#emailDialogEmailInput2").empty(),$("#emailDialogEmailInput3").empty(),this.hideStatus()},this.onViewLoaded=function(){HZ.utils.Logger.sendEventLog(HZ.sendEmail.events.ADDTOIBK_SHARE_EMAIL);var a=this.getSettings();$("#emailDialogEmailInput0").val("blah@blah.com"),$("#shareEmailConfirmImage").html(a.imageTag);var b=_hgt("Show <t1>{idea}</t1> to friends and family.",{idea:a.galleryTitle,t1:{tag:"a",attr:{href:a.galleryUrl,"class":"colorLink trackMe",compId:"shared_ideabook_link",target:"_blank"}}});$("#shareEmailCTA").html(b),$("#shareEmailDialog").attr("objid",a.referenceId).attr("scopeid",a.scopeId),HZ.email.PostIdeabookSaveShareEmail.superclass.onViewLoaded.call(this),$("#emailDialogEmailInput1").focus(),this.getSendBtn().click(function(){var a=$("#emailDialogEmailInput1").val(),b=$("#emailDialogEmailInput2").val(),c=$("#emailDialogEmailInput3").val(),d=$.unique([a,b,c]),e="";$.each(d,function(a,b){e+=b?b:""}),e?($("#emailDialogEmailInput0").val(e),HZ.utils.Logger.sendEventLog(HZ.sendEmail.events.SEND_BTN_ADDTOIBK_SHARE_EMAIL)):$("#emailDialogEmailInput0").val("blah@blah.com")})},function(){HZ.email.PostIdeabookSaveShareEmail.superclass.constructor.call(this)}.call(this)},HZ.extend(HZ.email.PostIdeabookSaveShareEmail,HZ.email.ContactDialog),HZ.ns("HZ.dialogs"),HZ.dialogs.ShareColorPaletteDialog=new HZ.email.ShareColorPaletteDialog,HZ.dialogs.PostIdeabookSaveShareEmail=new HZ.email.PostIdeabookSaveShareEmail;

window.hzmr.push("contactDialog:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End contactDialog.js  **************/
/************* Start extracting text for edgeContactDialog.js for locale sv-SE **************/
(function(){var _hzxt={"Project Location: {zipCode}":"Projektets l\u00e4ge: {zipCode}","Houzz project inquiry from {senderName}":"Projektf\u00f6rfr\u00e5gan p\u00e5 Houzz fr\u00e5n {senderName}","Contact Phone Number: {phoneNumber}":"Kontaktnummer: {phoneNumber}"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for edgeContactDialog.js  **************/
/************* Start edgeContactDialog.js for locale sv-SE **************/
try {HZ.ns("HZ.email"),HZ.email.EdgeContactDialog=new function(){var a=!1,b=!1,c={};this.init=function(a){return c=a,c.wasClosed?void HZ.email.EdgeContactDialog.hide():void $(document).ready(function(){if($("#edgeContactDialogContainer").detach().appendTo("body"),0==$("#emailPro").length)return void HZ.email.EdgeContactDialog.hide(!0);var a=$(window),b=$("#emailPro").offset().top,d=b+$("#emailPro").height();a.scroll($.throttle(100,function(){var c=a.scrollTop(),e=c+a.height(),f=e>=d&&b>=c;f?HZ.email.EdgeContactDialog.hide():HZ.email.EdgeContactDialog.show()})),$("#edgeContactDialogHeader .closeButton").on("click",function(){HZ.email.EdgeContactDialog.hide(!0),$("#ScrollToTopContainer").show()}),$("#edgeContactDlgSendBtn").on("click",function(){HZ.email.EdgeContactDialog.send()}),$("#edgeContactDialogProgressIndicator").append(HZ.ui.AjaxThrobber.getThrobber()),$("#edgeContactDialogContent .confirmProMessage").change(function(){c.needCaptcha&&"undefined"==typeof grecaptcha&&($.getScript("https://www.google.com/recaptcha/api.js?onload=onRecaptchaEdgeContDlgLoadCallback&render=explicit&hl="+HZ.utils.Config.language),$("#recaptchaParent").show())}),$("#ScrollToTopContainer").hide()})},this.show=function(){a||b||(a=!0,$("#edgeContactDialogContainer").stop().show().css("bottom","-400px").animate({bottom:"0px"},100,"linear"))},this.hide=function(d){a&&(a=!1,d&&(b=!0,HZ.ajaz.Services.setVisitorProperty(c.edgeContactClosed,"yes")),$("#edgeContactDialogContainer").stop().animate({bottom:"-400px"},100,"linear",function(){$(this).hide()}))},this.showError=function(a){$("#edgeContactDialogContainer .dialogStatus").text(a).slideDown()},this.send=function(){var a=$("#edgeContactDialogContent input.form-from-phone").val(),b=$("#edgeContactDialogContent input.form-from-zip").val(),d=$("#edgeContactDialogContent textarea.form-message").val(),e=$("#edgeContactDialogContent input.confirmProMessage").prop("checked");if(!e)return void this.showError(HZ.sendEmail.texts.ERROR_PRO_CONFIRM_INQUIRY_NOT_AGREE);if(!d)return void this.showError(HZ.sendEmail.texts.ERROR_MESSAGE_EMPTY);if(b){var f="[zip]"+b+"[/zip]";d=_hgt("Project Location: {zipCode}",{zipCode:f})+"\n"+d}a&&(d=_hgt("Contact Phone Number: {phoneNumber}",{phoneNumber:a})+"\n"+d),$("#edgeContactDialogProgressIndicator .dialogThrobber").show(),HZ.ui.InputButtonUtils.disableButton($("#edgeContactDlgSendBtn"));var g=_hgt("Houzz project inquiry from {senderName}",{senderName:c.senderName}),h=function(a){"true"==a.success?(HZ.email.EdgeContactDialog.hide(!0),HZ.ui.yamdi.Common.alert("",HZ.sendEmail.texts.CONFIRM_MESSAGE_SENT)):(HZ.email.EdgeContactDialog.showError(a.errorMessage||a.error),$("#edgeContactDialogProgressIndicator .dialogThrobber").hide(),HZ.ui.InputButtonUtils.enableButton($("#edgeContactDlgSendBtn")),c.needCaptcha&&"undefined"!=typeof grecaptcha&&grecaptcha.reset())};if(c.needCaptcha){var i=$("#edgeContactDialogContent input.form-from-email").val(),j="undefined"!=typeof grecaptcha?grecaptcha.getResponse():"";HZ.ajaz.Services.sendGuestEmail(i,c.proUserName,g,d,HZ.sendEmail.types.PRO,null,null,null,j,null,h)}else HZ.ajaz.Services.sendEmail(c.proUserName,g,d,HZ.sendEmail.types.PRO,null,null,null,null,null,h)}};

window.hzmr.push("edgeContactDialog:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End edgeContactDialog.js  **************/
/************* Start simpleCarousel.js for locale sv-SE **************/
try {!function(a,b,c){function d(a,b){w.apply(this,arguments),this.isInitialized()&&this.addTouchEvents()}var e="hz-sc-initialized",f="hz-sc-duration",g="hz-sc-position",h="hz-sc-initialized",i="hz-sc-innerwrapper",j="hz-sc-carousel-content",k="hz-sc-toggle-container",l="hz-sc-toggle",m="hz-sc-dot-right",n="hz-sc-toggle-active",o="hz-sc-nav-container",p="hz-sc-prev-btn",q="hz-sc-next-btn",r=!1,s=null,t=function(a){return"."+a},u=function(a,b){return"["+a+"='"+b+"']"},v=function(){for(var a={},b=document.createElement("div"),c=[{property:"transform",duration:"transitionDuration",end:"transitionend"}],d=c.length,e=0;d>e;e++){var f=c[e];if(void 0!==b.style[f.property])return a=f}return!1}(),w=function(b,c){var d={animatingSpeed:500,autoPlay:!1,autoPlayIntervalTime:5e3,showNavButtons:!1,showBottomToggles:!0};this.node=b,this.$node=a(b),this.animating=!1,this.autoPlayInterval=null,this.currentPosition=0,this.$carouselChildren=this.$node.children(),this.itemWidth=this.$carouselChildren.first().outerWidth(),this.settings=a.extend({},d,c),!this.isInitialized()&&this.$carouselChildren.length>1&&this.init()};w.prototype.init=function(){this.initCarouselHtmlStructure(),this.initAndInsertToggles(),this.initCarousel(),this.checkNavigation(),this.$node.data(e,!0),this.$node.addClass(h)},w.prototype.getToggleEl=function(b){var c=a("<div>");return c.addClass(l).attr(g,b),0===b&&c.addClass(n),c},w.prototype.initCarouselHtmlStructure=function(){var b=a("<div>"),c=a("<div>"),d=a("<div>");this.$node.css({"white-space":"nowrap",overflow:"hidden",position:"relative"}),this.$carouselChildren.addClass(j),b.addClass(i),b.append(this.$carouselChildren),c.addClass(k),this.settings.dotPositionRight&&c.addClass(m),d.addClass(o),this.$node.empty(),this.$node.append(b),this.$innerWrapper=b,this.settings.showNavButtons&&this.$node.append(d),this.settings.showBottomToggles&&this.$node.append(c)},w.prototype.initAndInsertToggles=function(){var b=this;if(this.settings.showBottomToggles){var c,d=this.$node.find(t(k));c=this.$carouselChildren.map(function(a,c){return b.getToggleEl(a)}),c.each(function(){d.append(a(this))})}if(this.settings.showNavButtons){var e=this.$node.find(t(o));e.append('<button class="hzi-font hzi-Right-Arrow '+q+'" type="button"></button><button class="hzi-font hzi-Left-Arrow '+p+'" type="button"></button>'),this.$prevButton=e.find("."+p),this.$nextButton=e.find("."+q)}},w.prototype.moveToPosition=function(a){this.currentPosition!==a&&this.animateToPosition(a)},w.prototype.checkNavigation=function(){this.settings.showNavButtons&&(this.$prevButton.prop("disabled",0===this.currentPosition),this.$nextButton.prop("disabled",this.currentPosition===this.$carouselChildren.length-1))},w.prototype.animateToPosition=function(a,b){if(!this.animating){this.$node.find(t(n)).removeClass(n),this.$node.find(u(g,a)).addClass(n),this.animating=!0,this.currentPosition=a,this.checkNavigation();var c="-"+100*a+"%",d=this.$innerWrapper;if(v){var e=d.data(f);e!==b&&(d[0].style[v.duration]=b+"ms"),d[0].style[v.property]="translate3d("+c+", 0, 0)",this.animating=!1}else d.animate({left:c},b?b:this.settings.animatingSpeed,this.animateDone.bind(this))}},w.prototype.animateDone=function(){var a=this.$innerWrapper;this.animating=!1,v&&(a[0].style[v.duration]=a.data(f)+"ms")},w.prototype.initCarousel=function(){var c=this;this.$node.on("click",t(l),function(){var d=a(this).attr(g);c.moveToPosition(parseInt(d,10)),b.clearInterval(c.autoPlayInterval)}),this.settings.showNavButtons&&this.$node.on("click",t(o),function(d){var e=a(d.target),f=e.hasClass(p)?c.currentPosition-1:e.hasClass(q)?c.currentPosition+1:c.currentPosition;c.moveToPosition(f),b.clearInterval(c.autoPlayInterval)}),this.settings.autoPlay&&(this.autoPlayInterval=b.setInterval(function(){c.moveToPosition((c.currentPosition+1)%c.$carouselChildren.length)},this.settings.autoPlayIntervalTime));var d=this.$innerWrapper;v?(d.data(f,this.settings.animatingSpeed),d[0].style[v.duration]=this.settings.animatingSpeed+"ms",d.on(v.end,this.animateDone.bind(this))):d.css({left:0})},w.prototype.isInitialized=function(){return!!this.$node.data(e)},d.prototype=Object.create(w.prototype),d.constructor=d,d.prototype.addTouchEvents=function(){if(c){var a=new c(this.node,{domEvents:!0});a.on("panleft panright panend",this.onPan.bind(this)),this.$node.on("click","a",function(a){r&&a.preventDefault()})}},d.prototype.onPan=function(a){var d=a.deltaX,e=0===this.currentPosition&&d>0,f=this.currentPosition===this.$carouselChildren.length-1&&0>d,g=d/this.itemWidth*100,h=this.$innerWrapper;if(!this.animating){this.autoPlayInterval&&b.clearInterval(this.autoPlayInterval),b.clearTimeout(s),(e||f)&&(g*=.33);var i;if("panend"===a.type)return h.removeClass("panning"),Math.abs(g)>=25&&!e&&!f?(i=this.settings.animatingSpeed*(1-Math.abs(g/100)),a.direction===c.DIRECTION_LEFT?this.animateToPosition(this.currentPosition+1,i):a.direction===c.DIRECTION_RIGHT?this.animateToPosition(this.currentPosition-1,i):this.animateToPosition(this.currentPosition)):this.animateToPosition(this.currentPosition),r=!0,void(s=b.setTimeout(function(){r=!1},500));var j=100*this.currentPosition*-1,k=Math.round(j+g)+"%";h.addClass("panning"),h[0].style[v.property]="translate3d("+k+", 0, 0)"}},a.fn.simpleCarousel=function(a){return this.each(function(){c?new d(this,a):new w(this,a)})}}(jQuery,window,window.Hammer);

window.hzmr.push("simpleCarousel:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End simpleCarousel.js  **************/
/************* Start viewProfileCarousel.js for locale sv-SE **************/
try {HZ.ns("HZ.modules.viewProfileCarousel"),$(document).ready(function(){$("#sponsoredGalleries").simpleCarousel({autoPlay:!0,dotPositionRight:!HZ.utils.Config.isResponsive})});

window.hzmr.push("viewProfileCarousel:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End viewProfileCarousel.js  **************/
/************* Start extracting text for invite.js for locale sv-SE **************/
(function(){var _hzxt={"or, invite by email (addresses separated by comma):":"eller bjud in via e-post (adresser separerade med kommatecken):","Share Houzz on Facebook":"Dela Houzz p\u00e5 Facebook","Add your friends":"L\u00e4gg till dina v\u00e4nner","Add Friends":"Skicka till v\u00e4nner","No thanks":"Nej tack"};for(var a in _hzxt){window._hzlang[a]=_hzxt[a];}})();
/*************  End extracting text for invite.js  **************/
/************* Start invite.js for locale sv-SE **************/
try {HZ.ns("HZ.invite"),HZ.invite.inviteDialog=new function(){function a(){i||(f=new HZ.ui.yamdi.Dialog,h=HZ.ui.InputButtonUtils.createPrimaryInputButton(_hgt("Add Friends"),"inviteDialogInviteBtn"),g=HZ.ui.InputButtonUtils.createSecondaryInputButton(_hgt("No thanks"),"inviteDialogCancelBtn"),f.init({title:_hgt("Add your friends"),dialogClassName:"inviteDialog",controls:[g,h]}),f.setBody("<div id='inviteDialogContainer'><div><a class='hzBtn large fb btn-fb' id='inviteDialogFbBtn'><span class='fbIcon'></span><span class='btnText'>"+_hgt("Share Houzz on Facebook")+"</span></a></div><form id='inviteDialogFrm' onsubmit='return InviteEmailsDialog.handleSubmitForm()' action='javascript:;'><div class='text-m'>"+_hgt("or, invite by email (addresses separated by comma):")+"</div><textarea class='form-control' name='emails' id='inviteDialogEmails' class='text-m'></textarea><br></form></div>"),i=!0)}function b(){$("#inviteDialogInviteBtn").attr("disabled","true");var a=$("#inviteDialogEmails").val();HZ.ajaz.Services.sendInvitations(a,function(){$("#inviteDialogInviteBtn").removeAttr("disabled"),$("#inviteDialogEmails").val(""),d()})}function c(){window.open(l,"_blank","height=400,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0")}function d(){HZ.ui.Yamdi.hide(this),"function"==typeof k&&k()}function e(){j||($("#inviteDialogCancelBtn").click(d),$("#inviteDialogInviteBtn").click(b),$("#inviteDialogFbBtn").click(c),j=!0)}var f=null,g=null,h=null,i=!1,j=!1,k=null,l=null;this.setFbShareUrl=function(a){l=a},this.show=function(b){k=b,a(),HZ.ui.Yamdi.show(f),e(),$("#inviteDialogEmails").focus()}};

window.hzmr.push("invite:2403");
} catch (err) {HZ.utils.Logger.sendJsExceptionStackTrace(err)}

/*************  End invite.js  **************/
